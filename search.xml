<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>iOSé›†æˆSentryæ•è·å¼‚å¸¸</title>
    <url>/2020/02/27/iOS%E9%9B%86%E6%88%90Sentry%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8/</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/07/27/1C6pm3SeZl5iJEu.png" alt="sentryå®˜ç½‘.png"></p>
<p>iOSç«¯å¼‚å¸¸æ•è·å¸¸ç”¨å·¥å…·æœ‰å¾ˆå¤šï¼Œå›½å†…æœ‰è…¾è®¯çš„Buglyï¼Œå›½å¤–æœ‰Sentryï¼Œæˆ‘ä»¬é€‰æ‹©äº†Sentryï¼Œå› ä¸ºSentryæ˜¯å¼€æºçš„ï¼Œæ”¯æŒæ­å»ºåœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼ˆself-hostedï¼‰ã€‚Sentryæä¾›äº†ä¸‰ç§ç±»å‹çš„è´¦å·ï¼šDeveloperã€Teamã€Businessï¼ŒDeveloperæ˜¯å…è´¹çš„ï¼Œä½†åŠŸèƒ½æœ‰é™ä¸”å¼‚å¸¸è®°å½•æœ€å¤šæ¯ä¸ªæœˆ5kæ¡ï¼Œæ¨èè‡ªå·±æ­å»ºæœåŠ¡å™¨ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰è®°å½•æ•°é‡é™åˆ¶äº†ï¼ŒSentryå®˜æ–¹æ–‡æ¡£æœ‰è¯¦ç»†çš„self-hostedæ•™ç¨‹ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>
<a id="more"></a>

<p><a href="https://sentry.io/" target="_blank" rel="noopener">Sentryå®˜ç½‘</a>æ³¨å†Œå®Œå¸åä¹‹åä¼šè®©ä½ é€‰æ‹©ä¸€ä¸ªå¹³å°ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©Objective-Cæˆ–Swiftï¼š</p>
<p><img src="https://i.loli.net/2020/07/27/qgKEFRhVdjU4t3S.png" alt="sentryé€‰æ‹©@2x.png"></p>
<p>ç„¶åæ‰¾åˆ°é¡¹ç›®è®¾ç½®é€‰æ‹©Client Keys(DSN)ï¼Œå¤åˆ¶DSNåé¢ä»£ç ä¸­éœ€è¦ç”¨åˆ°ï¼ˆå¦‚æœæ˜¯self-hostedåˆ™æ˜¯Public DSNï¼‰ï¼›</p>
<h4 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><p>1ã€ä½¿ç”¨CocoaPodså¯¼å…¥Sentryï¼›<br>2ã€åœ¨AppDelegateçš„didFinishLaunchingWithOptions:æ–¹æ³•ä¸­å¯åŠ¨Sentryï¼›</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">- (void)startSentry &#123;</span><br><span class="line">    <span class="type">NSError</span> *error = <span class="literal">nil</span>;</span><br><span class="line">    <span class="comment">// æ ¹æ®DSNåˆ›å»ºSentryClient</span></span><br><span class="line">    <span class="type">SentryClient</span> *client = [[<span class="type">SentryClient</span> alloc] initWithDsn:kSentryDSN didFailWithError:&amp;error];</span><br><span class="line">    <span class="type">SentryClient</span>.sharedClient = client;</span><br><span class="line">    [<span class="type">SentryClient</span>.sharedClient startCrashHandlerWithError:&amp;error];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">nil</span> != error) &#123;</span><br><span class="line">        <span class="type">NSLog</span>(@<span class="string">"%@"</span>, error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Sentryæä¾›äº†ä¸€ç³»åˆ—å±æ€§ï¼Œä¾›æˆ‘ä»¬è‡ªå®šä¹‰ä¸€äº›ä¿¡æ¯ï¼›</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">SentryClient</span>.sharedClient.environment = environment; <span class="comment">// ç¯å¢ƒ ä¾‹å¦‚ï¼šdebug</span></span><br><span class="line">[<span class="type">SentryClient</span>.sharedClient enableAutomaticBreadcrumbTracking]; <span class="comment">// å¼€å¯é¢åŒ…å±‘åŠŸèƒ½</span></span><br><span class="line"><span class="type">SentryClient</span>.sharedClient.maxBreadcrumbs = <span class="number">30</span>; <span class="comment">// é¢åŒ…å±‘æœ€å¤šæ ˆæ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="type">SentryUser</span> *user = [[<span class="type">SentryUser</span> alloc] initWithUserId:guid]; <span class="comment">// æ—¥å¿—è®°å½•ä»¥æ­¤åŒºåˆ«ã€å½’ç±»ä¸åŒç”¨æˆ·</span></span><br><span class="line">user.username = userName;</span><br><span class="line">user.extra = @&#123;@<span class="string">"cellphone"</span>:cellphone&#125;; <span class="comment">// è‡ªå®šä¹‰å­—æ®µç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="type">SentryClient</span>.sharedClient.user = user;</span><br><span class="line"></span><br><span class="line"><span class="type">SentryClient</span>.sharedClient.extra = @&#123;@<span class="string">"other"</span>:otherMsg&#125;; <span class="comment">// è‡ªå®šä¹‰å­—æ®µä¿¡æ¯</span></span><br></pre></td></tr></table></figure>

<p>Sentryä¹Ÿæ”¯æŒè‡ªå®šä¹‰å¼‚å¸¸äº‹ä»¶å¹¶æŠ›å‡º</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">SentryEvent</span> *event = [[<span class="type">SentryEvent</span> alloc] initWithLevel:kSentrySeverityWarning]; <span class="comment">// æŒ‡å®šäº‹ä»¶çš„ä¸¥é‡çº§åˆ« Fatal/Error/Warnig</span></span><br><span class="line">event.message = message; <span class="comment">// é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">event.environment = environment;</span><br><span class="line">event.extra =@&#123;@<span class="string">"url"</span>:url,@<span class="string">"code"</span>:@(code),@<span class="string">"param"</span>:param&#125;; <span class="comment">// è‡ªå®šä¹‰å­—æ®µ</span></span><br><span class="line">[<span class="type">SentryClient</span>.sharedClient sendEvent:event withCompletionHandler:^(<span class="type">NSError</span> * _Nullable error) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">nil</span> != error) &#123;</span><br><span class="line">        <span class="type">NSLog</span>(@<span class="string">"%@"</span>, error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼ŒiOSç«¯çš„ç¼–ç å·¥ä½œå·²ç»å®Œæˆï¼Œä½†æ˜¯è¿˜æœ‰é‡è¦çš„ä¸€æ­¥æ“ä½œæ²¡æœ‰åš</p>
<h4 id="ä¸Šä¼ dSYMæ–‡ä»¶"><a href="#ä¸Šä¼ dSYMæ–‡ä»¶" class="headerlink" title="ä¸Šä¼ dSYMæ–‡ä»¶"></a>ä¸Šä¼ dSYMæ–‡ä»¶</h4><p>sentryå¹³å°åˆ›å»ºTokenï¼šUser Setting â€”-&gt; Auth Tokens â€”&gt; Create New Tokenï¼›åˆ›å»ºæ—¶æŒ‰éœ€å‹¾é€‰é€‰é¡¹ï¼›<br>æ‹¿åˆ°Tokenåå°±å¯ä»¥ä¸Šä¼ æ–‡ä»¶äº†ï¼Œè¿™é‡Œæœ‰2ç§ä¸Šä¼ æ–¹å¼ï¼š</p>
<ul>
<li><p>shellè„šæœ¬ä¸Šä¼ </p>
<ol>
<li>æ‰“åŒ…åæ‹¿åˆ°dSYMæ–‡ä»¶ï¼›</li>
<li>å®‰è£…sentry-cliï¼š<code>brew install getsentry/tools/sentry-cli</code></li>
<li>è¿è¡Œè„šæœ¬ï¼š<code>sentry-cli --url URL --auth-token YOUR_TOKEN upload-dif --org YOUR_ORG --project  YOUR_PROJECT   dSYM_PATH --log-level=debug</code>ï¼ˆå…¶ä¸­URLå¦‚æœæ˜¯sentryæœåŠ¡å™¨åˆ™æ˜¯<a href="https://sentry.ioï¼Œ" target="_blank" rel="noopener">https://sentry.ioï¼Œ</a> å¦‚æœæ˜¯self-hostedåˆ™å¡«å†™è‡ªå·±æœåŠ¡å™¨urlï¼‰</li>
</ol>
</li>
<li><p>fastlaneä¸Šä¼ ï¼ˆå¾…è¡¥å……ï¼‰</p>
</li>
</ul>
<p>dSYMæ–‡ä»¶ä¸Šä¼ æˆåŠŸåï¼ŒSentryé¡¹ç›®è®¾ç½®ä¸­Debug Fileså°±èƒ½çœ‹åˆ°æ–‡ä»¶äº†ï¼Œä¹‹åå†æ¬¡æ•è·crashå¼‚å¸¸ï¼ŒæŸ¥çœ‹å †æ ˆä¿¡æ¯å°±å·²ç»èƒ½è§£æå‡ºå…·ä½“çš„æ–¹æ³•äº†ã€‚</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>Cocoa é›†åˆç±»å‹ï¼šNSPointerArrayï¼ŒNSMapTableï¼ŒNSHashTable</title>
    <url>/2017/08/24/Cocoa%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%EF%BC%9ANSPointerArra%E3%80%81NSMapTable%E3%80%81NSHashTable/</url>
    <content><![CDATA[<!-- toc -->

<p>åœ¨iOS6ä¹‹åæ–°å¢äº†NSPointerArrayï¼ŒNSMapTableï¼ŒNSHashTableä¸‰ç§é›†åˆï¼Œåˆ†åˆ«æ‹“å±•äº†NSArrayã€NSDictionaryã€NSSetçš„åŠŸèƒ½ã€‚</p>
<a id="more"></a> 

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; NSPointerArrayï¼ŒNSMapTableï¼ŒNSHashTable</span><br><span class="line">API_AVAILABLE(macos(10.5), ios(6.0), watchos(2.0), tvos(9.0))</span><br></pre></td></tr></table></figure>

<p>ä¼ ç»Ÿé›†åˆç±»å‹çš„çŸ­æ¿ï¼š</p>
<ul>
<li>åªèƒ½å¼ºå¼•ç”¨æ”¾å…¥é›†åˆä¸­çš„å¯¹è±¡</li>
<li>å¦‚æœæƒ³è¦å¼±å¼•ç”¨ï¼Œåªèƒ½é€šè¿‡NSValueåŒ…è£…</li>
<li>ä¸èƒ½æ”¾å…¥nil</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// NSValueçš„è¿™ä¸ªæ–¹æ³•å¯ä»¥ä¿æŒå¯¹å¯¹è±¡çš„å¼±å¼•ç”¨</span></span><br><span class="line">+ (<span class="type">NSValue</span> *)valueWithNonretainedObject:(nullable id)anObject;</span><br></pre></td></tr></table></figure>

<p>è€Œæ–°å¢çš„è¿™ä¸‰ç§é›†åˆï¼Œè§£å†³äº†ä»¥ä¸Šé—®é¢˜ï¼Œä»–ä»¬éƒ½ä½¿ç”¨äº†NSPointerFunctionsOptionså’ŒNSPointerFunctionsæ¥å†³å®šå†…å­˜ç®¡ç†ç­‰æ–¹å¼ï¼Œå…ˆæ¥çœ‹ä¸‹å®ƒä»¬ï¼š</p>
<p><strong>NSPointerFunctionsOptions</strong><br>å®ƒæ˜¯CF_OPTIONSç±»å‹çš„ï¼Œç”¨æ³•ä¸CF_ENUMç±»ä¼¼ï¼Œä¸€å…±åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ul>
<li>å†…å­˜ç®¡ç†æ–¹å¼</li>
<li>å¯¹è±¡åˆ¤ç­‰æ–¹å¼</li>
<li>å†…å­˜æ ‡è¯†æ–¹å¼</li>
</ul>
<p>ä¾‹å¦‚ï¼šéœ€è¦å¼±å¼•ç”¨æˆå‘˜ã€ä½¿ç”¨å¯¹è±¡æ–¹å¼å¯¹æ¯”ã€å¹¶ä¸” add æ—¶ copy å¯¹è±¡ï¼Œåˆ™å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">NSPointerFunctionsOptions</span> *options = <span class="type">NSPointerFunctionsWeakMemory</span> | <span class="type">NSPointerFunctionsObjectPersonality</span> | <span class="type">NSPointerFunctionsCopyIn</span>;</span><br></pre></td></tr></table></figure>

<p>å…·ä½“ç±»å‹åœ¨æ­¤ä¸å†èµ˜è¿°</p>
<p><strong>NSPointerFunctions</strong><br>æ˜¯è‡ªå®šä¹‰æˆå‘˜çš„å¤„ç†æ–¹å¼ï¼Œå¦‚å†…å­˜ç®¡ç†ã€å¯¹è±¡åˆ¤ç­‰ï¼Œä»–ä»¬éƒ½æ˜¯å‡½æ•°æŒ‡é’ˆï¼Œç”¨æ³•å¦‚ä¸‹</p>
<pre><code class="Swift"><span class="keyword">static</span> <span class="type">BOOL</span> <span class="type">IsEqual</span>(const void *item1, const void *item2, <span class="type">NSUInteger</span> (*size)(const void *item)) {
    <span class="keyword">return</span> *(const int *)item1 == *(const int *)item2;
}

<span class="type">NSPointerFunctions</span> *functions = [[<span class="type">NSPointerFunctions</span> alloc] <span class="keyword">init</span>];
[functions setIsEqualFunction:<span class="type">IsEqual</span>];</code></pre>
<h2 id="1-NSPointerArray"><a href="#1-NSPointerArray" class="headerlink" title="1.NSPointerArray"></a>1.NSPointerArray</h2><p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸ NSArray ä¸åŒï¼Œå®ƒå¯ä»¥å­˜å‚¨ NULLï¼Œå¹¶ä¸” NULL è¿˜å‚ä¸ count çš„è®¡ç®—</li>
<li>count å¯ä»¥ setï¼Œå¦‚æœç›´æ¥ set countï¼Œé‚£ä¹ˆä¼šä½¿ç”¨ NULL å ä½</li>
<li>å¯ä»¥ä½¿ç”¨ weak æ¥ä¿®é¥°æˆå‘˜</li>
<li>æˆå‘˜å¯ä»¥æ˜¯æ‰€æœ‰æŒ‡é’ˆç±»å‹ </li>
</ul>
<p><strong>åˆå§‹åŒ–æ–¹æ³•ï¼š</strong></p>
<pre><code class="Swift">- (instancetype)initWithOptions:(<span class="type">NSPointerFunctionsOptions</span>)options;
- (instancetype)initWithPointerFunctions:(<span class="type">NSPointerFunctions</span> *)functions; </code></pre>
<p><strong>compactæ–¹æ³•</strong><br>NSPointerArrayå¯ä»¥æ·»åŠ NULLï¼ŒåŒæ ·APIæä¾›äº†compactæ–¹æ³•ç”¨äºå‰”é™¤æ‰€æœ‰NULL<br>âš ï¸æˆ‘ä»¬ä¸»åŠ¨æ·»åŠ çš„NULLçš„æ—¶å€™ï¼Œä¼šè¢«æ ‡è®°ï¼Œä¹‹åè°ƒç”¨compactçš„æ—¶å€™ï¼Œæ‰€æœ‰NULLä¼šè¢«æ ‡è®°ï¼Œä½†æ˜¯æˆ‘ä»¬ç›´æ¥set countæˆ–è€…æˆå‘˜å·²ç»è¢«é‡Šæ”¾ï¼Œæ­¤æ—¶å¹¶ä¸ä¼šè¢«æ ‡è®°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨compactä¹‹å‰æ‰‹åŠ¨ç»™æ·»åŠ ä¸€ä¸ªNULLæ¥æ‰“ä¸Šæ ‡è®°ï¼š</p>
<pre><code class="Swift">[array addPointer:<span class="type">NULL</span>];
[array compact];</code></pre>
<h2 id="2-NSMapTable"><a href="#2-NSMapTable" class="headerlink" title="2.NSMapTable"></a>2.NSMapTable</h2><p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>key å¯ä»¥ä¸ç”¨éµå¾ª NSCopying åè®®</li>
<li>key å’Œ value çš„å†…å­˜ç®¡ç†æ–¹å¼å¯ä»¥åˆ†å¼€ï¼Œå¦‚ï¼škey æ˜¯å¼ºå¼•ç”¨ï¼Œvalue æ˜¯å¼±å¼•ç”¨</li>
<li>å½“ç”¨ weak ä¿®é¥° key æˆ– value æ—¶ï¼Œæœ‰ä¸€æ–¹è¢«é‡Šæ”¾ï¼Œåˆ™è¯¥é”®å€¼å¯¹ç§»é™¤</li>
</ul>
<h2 id="3-NSHashTable"><a href="#3-NSHashTable" class="headerlink" title="3.NSHashTable"></a>3.NSHashTable</h2><p><strong>ç‰¹ç‚¹ï¼š</strong>  </p>
<ul>
<li>ä¸<strong>NSPointerArray</strong>ä¸€æ ·å¯ä»¥æ ¹æ®NSPointerFunctionsOptionsæ¥å†³å®šå¯¹å¯¹è±¡çš„å†…å­˜ç®¡ç†æ–¹å¼</li>
</ul>
<p>æœ€åæ¥ä¸€ä¸ªNSHashTableçš„demoéªŒè¯ä¸€ä¸‹</p>
<pre><code class="Swift"><span class="comment">// demo </span>
int main(int argc, const char * argv[]) {    
    <span class="type">NSHashTable</span> *hashTable = [<span class="type">NSHashTable</span> hashTableWithOptions:<span class="type">NSPointerFunctionsWeakMemory</span>];
    @autoreleasepool {
        <span class="type">NSObject</span> *obj = [[<span class="type">NSObject</span> alloc] <span class="keyword">init</span>];
        [hashTable addObject:obj];
        <span class="type">NSLog</span>(@<span class="string">"before-----%@"</span>, hashTable);
        <span class="type">NSLog</span>(@<span class="string">"before-----%ld"</span>, hashTable.<span class="built_in">count</span>);
    }
    <span class="type">NSLog</span>(@<span class="string">"after-----%@"</span>, hashTable);
    <span class="type">NSLog</span>(@<span class="string">"after-----%ld"</span>, hashTable.<span class="built_in">count</span>);
}   
<span class="comment">// ç»“æœ</span>
...before-----<span class="type">NSHashTable</span> {
...[<span class="number">15</span>] &lt;<span class="type">NSObject</span>: <span class="number">0x10056a6d0</span>&gt;
...}
...before-----<span class="number">1</span>
...after-----<span class="type">NSHashTable</span> {
...} 
...after-----<span class="number">1</span>  <span class="comment">//è™½ç„¶objè¢«é‡Šæ”¾äº†ï¼Œä½†æ˜¯NULLä»ç„¶ä¼šè¢«è®¡æ•°</span></code></pre>
]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
      <tags>
        <tag>é›†åˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå¸¸ç”¨æŒ‡ä»¤</title>
    <url>/2018/03/24/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<!-- TOC -->

<h3 id="ä¸€ã€æ–°å»ºä»“åº“"><a href="#ä¸€ã€æ–°å»ºä»“åº“" class="headerlink" title="ä¸€ã€æ–°å»ºä»“åº“"></a>ä¸€ã€æ–°å»ºä»“åº“</h3><hr>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"># åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ª<span class="type">Git</span>ä»“åº“</span><br><span class="line">$ git <span class="keyword">init</span></span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸º<span class="type">Git</span>ä»“åº“</span><br><span class="line">$ git <span class="keyword">init</span> [project-name]</span><br><span class="line"></span><br><span class="line"># å…‹éš†ä¸€ä¸ªé¡¹ç›®</span><br><span class="line">git clone [url]</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="äºŒã€é…ç½®"><a href="#äºŒã€é…ç½®" class="headerlink" title="äºŒã€é…ç½®"></a>äºŒã€é…ç½®</h3><hr>
<p>Gitçš„è®¾ç½®æ–‡ä»¶ä¸º.gitconfigï¼Œå®ƒå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼ˆå…¨å±€é…ç½®ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼ˆé¡¹ç›®é…ç½®ï¼‰ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"># æ˜¾ç¤ºå½“å‰çš„<span class="type">Git</span>é…ç½®</span><br><span class="line">$ git config --list</span><br><span class="line"></span><br><span class="line"># ç¼–è¾‘<span class="type">Git</span>é…ç½®æ–‡ä»¶</span><br><span class="line">$ git config -e [--global]</span><br><span class="line"></span><br><span class="line"># è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">$ git config [--global] user.name <span class="string">"[name]"</span></span><br><span class="line">$ git config [--global] user.email <span class="string">"[email address]"</span></span><br></pre></td></tr></table></figure>

<h3 id="ä¸‰ã€å¢åŠ -åˆ é™¤æ–‡ä»¶"><a href="#ä¸‰ã€å¢åŠ -åˆ é™¤æ–‡ä»¶" class="headerlink" title="ä¸‰ã€å¢åŠ /åˆ é™¤æ–‡ä»¶"></a>ä¸‰ã€å¢åŠ /åˆ é™¤æ–‡ä»¶</h3><hr>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"># æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line">$ git add [file1] [file2] ...</span><br><span class="line"></span><br><span class="line"># æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ˆåŒ…æ‹¬å­ç›®å½•ï¼‰</span><br><span class="line">$ git add [dir]</span><br><span class="line"></span><br><span class="line"># æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line">$ git add .</span><br><span class="line"></span><br><span class="line"># æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤</span><br><span class="line"># å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°åˆ†æ¬¡æäº¤</span><br><span class="line">$ git add -p</span><br><span class="line"></span><br><span class="line"># åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº</span><br><span class="line">$ git rm [file1] [file2] ...</span><br><span class="line"></span><br><span class="line"># åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº</span><br><span class="line">$ git rm --cached [file]</span><br><span class="line"></span><br><span class="line"># æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº</span><br><span class="line">$ git mv [file-original] [file-renamed]</span><br></pre></td></tr></table></figure>

<h3 id="å››ã€ä»£ç æäº¤"><a href="#å››ã€ä»£ç æäº¤" class="headerlink" title="å››ã€ä»£ç æäº¤"></a>å››ã€ä»£ç æäº¤</h3><hr>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"># æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº</span><br><span class="line">$ git commit -m [message]</span><br><span class="line"></span><br><span class="line"># æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº</span><br><span class="line">$ git commit [file1] [file2] ... -m [message]</span><br><span class="line"></span><br><span class="line"># æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº</span><br><span class="line">$ git commit -a</span><br><span class="line"></span><br><span class="line"># æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰çš„diffä¿¡æ¯</span><br><span class="line">$ git commit -v</span><br><span class="line"></span><br><span class="line"># ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤</span><br><span class="line"># å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯</span><br><span class="line">$ git commit --amend -m [message]</span><br><span class="line"></span><br><span class="line"># é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–</span><br><span class="line">$ git commit --amend [file1] [file2] ...</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">### äº”ã€åˆ†æ”¯</span><br><span class="line">---</span><br><span class="line">```<span class="type">Swift</span></span><br><span class="line"># æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯åˆ—è¡¨</span><br><span class="line">$ git branch</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯åˆ—è¡¨</span><br><span class="line">$ git branch -r</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºä¸€ä¸ªæ–°çš„feature-jxåˆ†æ”¯å¹¶è·Ÿè¸ªoriginçš„è¿œç¨‹developåˆ†æ”¯ (-bè¡¨ç¤ºåˆ‡æ¢åˆ°æ–°å»ºåˆ†æ”¯)</span><br><span class="line">$ git checkout -b feature-jx origin/develop</span><br><span class="line"></span><br><span class="line"># å°†æœ¬åœ°çš„feature-jxåˆ†æ”¯æ¨é€åˆ°è¿œç¨‹featureåˆ†æ”¯ï¼ˆè¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨åˆ™ä¼šåˆ›å»ºï¼‰</span><br><span class="line">$ git push origin feature-jx:feature</span><br><span class="line"></span><br><span class="line"># æœ¬åœ°åˆ†æ”¯è¿½è¸ªè¿œç¨‹åˆ†æ”¯</span><br><span class="line">$ git branch --<span class="keyword">set</span>-upstream [branch] [remote-branch]</span><br><span class="line"></span><br><span class="line"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">$ git merge [branch]</span><br><span class="line"></span><br><span class="line"># é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯</span><br><span class="line">$ git cherry-pick [commit]</span><br><span class="line"></span><br><span class="line"># åˆ é™¤åˆ†æ”¯</span><br><span class="line">$ git branch -d [branch]</span><br><span class="line"></span><br><span class="line"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span><br><span class="line">$ git push origin --delete [branch]</span><br><span class="line">$ git branch -dr [remote/branch]</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit</span><br><span class="line">$ git branch [branch] [commit]</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»</span><br><span class="line">$ git branch --track [branch] [remote-branch] </span><br><span class="line"></span><br><span class="line"># åŒæ­¥è¿œç¨‹ä»“åº“åˆ é™¤çŠ¶æ€</span><br><span class="line">$ git remote prune origin</span><br></pre></td></tr></table></figure>

<h3 id="å…­ã€æ ‡ç­¾"><a href="#å…­ã€æ ‡ç­¾" class="headerlink" title="å…­ã€æ ‡ç­¾"></a>å…­ã€æ ‡ç­¾</h3><hr>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"># åˆ—å‡ºæ‰€æœ‰tag </span><br><span class="line">$ git tag</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰çš„commit</span><br><span class="line">$ git tag [tag]</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šçš„commit </span><br><span class="line">$ git tag [tag] [commit]</span><br><span class="line"></span><br><span class="line"># åˆ é™¤æœ¬åœ°tag</span><br><span class="line">$ git tag -d [tag]</span><br><span class="line"></span><br><span class="line"># åˆ é™¤è¿œç¨‹tag(æ¨ä¸€ä¸ªç©ºçš„åˆ°å¯¹åº”çš„tag)</span><br><span class="line">$ git push origin :refs/tags/[tagName]</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹tagä¿¡æ¯</span><br><span class="line">$ git show [tag]</span><br><span class="line"></span><br><span class="line"># æäº¤æŒ‡å®štag</span><br><span class="line">$ git push [remote] [tag]</span><br><span class="line"></span><br><span class="line"># æäº¤æ‰€æœ‰tag</span><br><span class="line">$ git push [remote] --tags</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag</span><br><span class="line">$ git checkout -b [brach] [tag]</span><br></pre></td></tr></table></figure>

<h3 id="ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯"><a href="#ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯" class="headerlink" title="ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯"></a>ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯</h3><hr>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"># æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶</span><br><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²</span><br><span class="line">$ git log</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶</span><br><span class="line">$ git log --stat</span><br><span class="line"></span><br><span class="line"># æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯</span><br><span class="line">$ git log -S [keyword]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ</span><br><span class="line">$ git log [tag] HEAD --pretty=format:%s</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶<span class="string">"æäº¤è¯´æ˜"</span>å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶</span><br><span class="line">$ git log [tag] HEAD --grep feature</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å</span><br><span class="line">$ git log --follow [file]</span><br><span class="line">$ git whatchanged [file]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff</span><br><span class="line">$ git log -p [file]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºè¿‡å»<span class="number">5</span>æ¬¡æäº¤</span><br><span class="line">$ git log <span class="number">-5</span> --pretty --oneline</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº</span><br><span class="line">$ git shortlog -sn</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡</span><br><span class="line">$ git blame [file]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span><br><span class="line">$ git diff</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚</span><br><span class="line">$ git diff --cached [file]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚</span><br><span class="line">$ git diff HEAD</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚</span><br><span class="line">$ git diff [first-branch]...[second-branch]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç </span><br><span class="line">$ git diff --shortstat <span class="string">"@&#123;0 day ago&#125;"</span></span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–</span><br><span class="line">$ git show [commit]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶</span><br><span class="line">$ git show --name-only [commit]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹</span><br><span class="line">$ git show [commit]:[filename]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤</span><br><span class="line">$ git reflog</span><br></pre></td></tr></table></figure>

<h3 id="å…«ã€è¿œç¨‹åŒæ­¥"><a href="#å…«ã€è¿œç¨‹åŒæ­¥" class="headerlink" title="å…«ã€è¿œç¨‹åŒæ­¥"></a>å…«ã€è¿œç¨‹åŒæ­¥</h3><hr>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"># ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</span><br><span class="line">$ git fetch [remote]</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“</span><br><span class="line">$ git remote -v</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯</span><br><span class="line">$ git remote show [remote]</span><br><span class="line"></span><br><span class="line"># å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å</span><br><span class="line">$ git remote add [shortname] [url]</span><br><span class="line"></span><br><span class="line"># å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶</span><br><span class="line">$ git pull [remote] [branch]</span><br><span class="line"></span><br><span class="line"># ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line">$ git push [remote] [branch]</span><br><span class="line"></span><br><span class="line"># å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª</span><br><span class="line">$ git push [remote] --force</span><br><span class="line"></span><br><span class="line"># æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line">$ git push [remote] --all</span><br><span class="line"></span><br><span class="line"># åŒæ­¥è¿œç¨‹åˆ†æ”¯ï¼ˆå¯ä»¥ç”¨æ¥åˆ é™¤æœ¬åœ°ä¸å­˜åœ¨çš„è¿œç¨‹åˆ†æ”¯ï¼‰</span><br><span class="line">$ git pull -p</span><br><span class="line"># ç­‰åŒäºğŸ‘‡</span><br><span class="line">$ git fetch -p</span><br><span class="line">$ git fetch --prune origin</span><br></pre></td></tr></table></figure>

<h3 id="ä¹ã€æ’¤é”€"><a href="#ä¹ã€æ’¤é”€" class="headerlink" title="ä¹ã€æ’¤é”€"></a>ä¹ã€æ’¤é”€</h3><hr>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"># æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº</span><br><span class="line">$ git checkout [file]</span><br><span class="line"></span><br><span class="line"># æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº</span><br><span class="line">$ git checkout [commit] [file]</span><br><span class="line"></span><br><span class="line"># æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº</span><br><span class="line">$ git checkout .</span><br><span class="line"></span><br><span class="line"># é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜</span><br><span class="line">$ git reset [file]</span><br><span class="line"></span><br><span class="line"># é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´</span><br><span class="line">$ git reset --hard</span><br><span class="line"></span><br><span class="line"># é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</span><br><span class="line">$ git reset [commit]</span><br><span class="line"></span><br><span class="line"># é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´</span><br><span class="line">$ git reset --hard [commit]</span><br><span class="line"></span><br><span class="line"># é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜</span><br><span class="line">$ git reset --keep [commit]</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit</span><br><span class="line"># åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">$ git revert [commit]</span><br><span class="line"></span><br><span class="line"># æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥</span><br><span class="line">$ git stash</span><br><span class="line">$ git stash pop</span><br></pre></td></tr></table></figure>

<h3 id="åã€å…¶ä»–"><a href="#åã€å…¶ä»–" class="headerlink" title="åã€å…¶ä»–"></a>åã€å…¶ä»–</h3><hr>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"># ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ…</span><br><span class="line">$ git archive</span><br></pre></td></tr></table></figure>

<h3 id="ä¸€ã€æ’¤é”€å½“å‰commitï¼Œå¹¶å°†æ”¹åŠ¨æ¢å¤åˆ°ç¼“å­˜åŒº"><a href="#ä¸€ã€æ’¤é”€å½“å‰commitï¼Œå¹¶å°†æ”¹åŠ¨æ¢å¤åˆ°ç¼“å­˜åŒº" class="headerlink" title="ä¸€ã€æ’¤é”€å½“å‰commitï¼Œå¹¶å°†æ”¹åŠ¨æ¢å¤åˆ°ç¼“å­˜åŒº"></a>ä¸€ã€æ’¤é”€å½“å‰commitï¼Œå¹¶å°†æ”¹åŠ¨æ¢å¤åˆ°ç¼“å­˜åŒº</h3><hr>
<pre><code class="Swift"># <span class="number">1</span>.å…ˆæŸ¥çœ‹å†å²æäº¤è®°å½•ï¼š
$ git log --pretty=oneline

# <span class="number">2</span>.å›é€€åˆ°ä¸Šæ¬¡æäº¤ï¼Œå¹¶ä¸”ä¿ç•™ä¿®æ”¹(**hardå°†ä¼šä¸¢å¼ƒæ›´æ”¹!**) 
$ git reset --soft 319c879dc5ff2d18d71164523c2009da6bcf2011

# <span class="number">3</span>.æš‚å­˜ä¿®æ”¹
$ git  stash

# <span class="number">4</span>.åˆ‡æ¢åˆ†æ”¯
$ git checkout -b åˆ†æ”¯å

# <span class="number">5</span>.æŸ¥çœ‹æ‰€æœ‰çš„è´®è—ï¼ˆåªæœ‰ä¸€ä¸ªè´®è— å¯ä»¥ä½¿ç”¨ git stash pop æ¢å¤ï¼‰
$ git stash list</code></pre>
]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>macOS Catalina 10.15 å®‰è£… CocoaPods æ­¥éª¤</title>
    <url>/2020/03/24/macOS-Catalina-10-15-%E5%AE%89%E8%A3%85-CocoaPods-%E6%AD%A5%E9%AA%A4/</url>
    <content><![CDATA[<!-- toc -->

<h5 id="1-æ£€æŸ¥ç”µè„‘ä¸Šçš„-CocoaPods-ç‰ˆæœ¬"><a href="#1-æ£€æŸ¥ç”µè„‘ä¸Šçš„-CocoaPods-ç‰ˆæœ¬" class="headerlink" title="1. æ£€æŸ¥ç”µè„‘ä¸Šçš„ CocoaPods ç‰ˆæœ¬"></a>1. æ£€æŸ¥ç”µè„‘ä¸Šçš„ CocoaPods ç‰ˆæœ¬</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pod --version</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼šzsh: command not found: pod  å¥½çš„ ä½ æœç„¶æ²¡æœ‰å®‰è£…CocoaPods</p>
<a id="more"></a>

<h5 id="2-çœ‹ä¸‹rubyç‰ˆæœ¬"><a href="#2-çœ‹ä¸‹rubyç‰ˆæœ¬" class="headerlink" title="2. çœ‹ä¸‹rubyç‰ˆæœ¬"></a>2. çœ‹ä¸‹rubyç‰ˆæœ¬</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ruby -v</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼šruby 2.6.3p62 (2019-04-16 revision 67580) [universal.x86_64-darwin19]</p>
<h5 id="3-æŸ¥çœ‹å½“å‰å®‰è£…çš„gemæº"><a href="#3-æŸ¥çœ‹å½“å‰å®‰è£…çš„gemæº" class="headerlink" title="3. æŸ¥çœ‹å½“å‰å®‰è£…çš„gemæº"></a>3. æŸ¥çœ‹å½“å‰å®‰è£…çš„gemæº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gem sources -l</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š<br><strong>* CURRENT SOURCES *</strong><br><a href="https://rubygems.org/" target="_blank" rel="noopener">https://rubygems.org/</a></p>
<h5 id="4-ç§»é™¤åŸæœ‰çš„æº"><a href="#4-ç§»é™¤åŸæœ‰çš„æº" class="headerlink" title="4. ç§»é™¤åŸæœ‰çš„æº"></a>4. ç§»é™¤åŸæœ‰çš„æº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gem sources --remove https:&#x2F;&#x2F;rubygems.org&#x2F;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š<a href="https://rubygems.org/" target="_blank" rel="noopener">https://rubygems.org/</a> removed from sources<br>ç§»é™¤æˆåŠŸ</p>
<h5 id="5-æ·»åŠ ruby-chinaçš„æº"><a href="#5-æ·»åŠ ruby-chinaçš„æº" class="headerlink" title="5. æ·»åŠ ruby-chinaçš„æº"></a>5. æ·»åŠ ruby-chinaçš„æº</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gem sources -a https:&#x2F;&#x2F;gems.ruby-china.com&#x2F;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š<a href="https://gems.ruby-china.com/" target="_blank" rel="noopener">https://gems.ruby-china.com/</a> added to sources<br>æ·»åŠ æˆåŠŸ</p>
<h5 id="6-å®‰è£…"><a href="#6-å®‰è£…" class="headerlink" title="6. å®‰è£…"></a>6. å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo gem install cocoapods</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼šâ€¦ 32 gems installed.<br>å®‰è£…å®Œæˆ</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>CocoaPods</tag>
      </tags>
  </entry>
  <entry>
    <title>å•ä¾‹blockå¼•å‘çš„æ€è€ƒ</title>
    <url>/2018/03/24/%E5%8D%95%E4%BE%8Bblock%E5%BC%95%E5%8F%91%E7%9A%84%E6%80%9D%E8%80%83/</url>
    <content><![CDATA[<!-- toc -->

<p>AFNetworking æ¡†æ¶ä¸­çš„ AFNetworkReachabilityManager å¯ä»¥ç”¨æ¥ç›‘å¬ç½‘ç»œçŠ¶æ€çš„å˜åŒ–ï¼Œç»å¸¸è¿™æ ·ä½¿ç”¨ï¼š</p>
<a id="more"></a>

<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">[[AFNetworkReachabilityManager sharedManager] setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) &#123;</span><br><span class="line">    <span class="comment">// code...</span></span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æºç ï¼Œä¼šå‘ç° setReachabilityStatusChangeBlock æ–¹æ³•åªæ˜¯å•çº¯çš„å°† block èµ‹å€¼ç»™äº†ä¸€ä¸ªæ™®é€šå˜é‡ï¼Œè¿™è¯´æ˜ block æœ‰è¢«è¦†ç›–çš„é£é™©ã€‚</p>
<h2 id="æ€è€ƒï¼šå¦‚ä½•é¿å…å•ä¾‹çš„blockè¢«è¦†ç›–"><a href="#æ€è€ƒï¼šå¦‚ä½•é¿å…å•ä¾‹çš„blockè¢«è¦†ç›–" class="headerlink" title="æ€è€ƒï¼šå¦‚ä½•é¿å…å•ä¾‹çš„blockè¢«è¦†ç›–"></a>æ€è€ƒï¼šå¦‚ä½•é¿å…å•ä¾‹çš„blockè¢«è¦†ç›–</h2><p>AFNetworking çš„ issue ä¸­ä¹Ÿæœ‰äººæå‡ºç›¸åŒçš„é—®é¢˜ï¼Œç›®å‰æœ‰2ç§è§£å†³æ–¹æ¡ˆï¼š</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">åœ¨blockçš„å›è°ƒä¸­å‘é€šçŸ¥</span><br><span class="line">AFNetworking3<span class="number">.0</span> ä½œè€…æ–°å¢äº†ä¸€ä¸ª manager ç±»æ–¹æ³•ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ AFNetworkReachabilityManager å¯¹è±¡ï¼Œè¿™æ ·å°±ä¸ä¼šé€ æˆblockè¢«è¦†ç›–äº†</span><br></pre></td></tr></table></figure>

<p>ä¸ä½¿ç”¨ä¸Šé¢2ç§åŠæ³•ï¼Œæœ‰æ²¡æœ‰åˆ«çš„æ–¹æ³•å¯ä»¥é¿å…blockè¢«è¦†ç›–å‘¢ï¼Ÿ</p>
<h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><p><strong>blockè¢«è¦†ç›–çš„åŸå› ï¼šå•ä¾‹ + ä½¿ç”¨æ™®é€šå¯¹è±¡æ¥æ”¶block</strong><br>é‚£ä¹ˆå¯ä»¥é€‰æ‹©ç”¨é›†åˆæ¥æ¥æ”¶blockï¼Œé€‰æ‹©é›†åˆéœ€è¦è€ƒè™‘2ç‚¹ï¼š</p>
<ul>
<li>1ã€æœ‰åº/æ— åº</li>
<li>2ã€strong/weak</li>
</ul>
<p>æ­¤å¤„ä½¿ç”¨æœ‰åºé›†åˆè²Œä¼¼æ²¡ä»€ä¹ˆç”¨ï¼Œä½¿ç”¨ strong çš„è¯ä¹Ÿå°±æ˜¯ NSMutableDictionary ï¼Œé‚£ä¹ˆä¼šå¼•å…¥ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼šä½•æ—¶é‡Šæ”¾ block å‘¢ï¼Ÿé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ NSMapTable ï¼Ÿå°† key è®¾ç½®ä¸º NSPointerFunctionsWeakMemory ï¼Œé‚£ä¹ˆå°±ä¸ç”¨æˆ‘ä»¬æ‰‹åŠ¨å»é‡Šæ”¾äº†</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)addNetworkStatusCallback:(dispatch_block_t)callback &#123;</span><br><span class="line">    [<span class="keyword">self</span>.table setObject:callback forKey:<span class="string">@"UUID"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä½†æ˜¯ç”±äºkeyæ˜¯å±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥å‡ºäº†æ–¹æ³•åblockä»ç„¶ä¼šè¢«é‡Šæ”¾ï¼Œæ‰€ä»¥å¾—æ€è€ƒåˆ°åº•ç”±è°æ¥æŒæœ‰blockã€‚</li>
<li>æ ¹æ®è®¾è®¡åŸåˆ™ï¼šè°æ³¨å†Œå›è°ƒå°±ç”±è°æ¥ç®¡ç†blockï¼Œå•ä¾‹ä»…ä»…åªç»´æŠ¤ ç®¡ç†è€… ä¸ block çš„æ˜ å°„å…³ç³»ã€‚ </li>
</ul>
<h2 id="Associated-Object"><a href="#Associated-Object" class="headerlink" title="Associated Object"></a>Associated Object</h2><p>é€šè¿‡å…³è”å¯¹è±¡æŠ€æœ¯å°† callback ç»‘å®šç»™ observerï¼Œè€Œå•ä¾‹çš„ NSMapTable ä¸­ï¼Œkey å’Œ value éƒ½æ˜¯ weakï¼Œä»…éœ€è¦ç»´æŠ¤ observer ä¸ callback çš„æ˜ å°„å…³ç³»å³å¯ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &lt;viewController&gt;: &lt;callback&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å•ä¾‹ä¸­å®ç°ç›¸åº”æ–¹æ³•ï¼š</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)addObserver:(<span class="keyword">id</span>)observer callback:(dispatch_block_t)callback &#123;</span><br><span class="line">    [<span class="keyword">self</span>.table setObject:callback forKey:observer];</span><br><span class="line">    <span class="built_in">NSString</span> *key = [[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%p"</span>, &amp;observer] UTF8String];</span><br><span class="line">    objc_setAssociatedObject(observer, key, callback, OBJC_ASSOCIATION_COPY_NONATOMIC);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ viewController ä¸­å¯ä»¥è¿™æ ·ä½¿ç”¨ ï¼š</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">[[ObserverSingleton shareInstance] addObserver:<span class="keyword">self</span> callback:^&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"status callback"</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>

<p>ç§»é™¤æ“ä½œ</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)removeObserver:(<span class="keyword">id</span>)observer &#123;</span><br><span class="line">    [<span class="keyword">self</span>.table removeObjectForKey:observer];</span><br><span class="line">    <span class="built_in">NSString</span> *key = [[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%p"</span>, &amp;observer] UTF8String];</span><br><span class="line">    objc_setAssociatedObject(observer, key, <span class="literal">nil</span>, OBJC_ASSOCIATION_COPY_NONATOMIC);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿™æ ·å¤„ç†æœ‰ä¸€ä¸ªå¼Šç«¯ï¼šä½¿ç”¨è€…å¾ˆå®¹æ˜“è§‰å¾— self ä¸ callback æ²¡æœ‰å¼•ç”¨å…³ç³»ï¼Œå®é™…ä¸Šå¾—ä½¿ç”¨weakSelf æ‰èƒ½é¿å…å¾ªç¯å¼•ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
      <tags>
        <tag>block</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»™UIViewæ·»åŠ é˜´å½±çš„æ­£ç¡®æ–¹å¼</title>
    <url>/2016/04/21/%E7%BB%99UIView%E6%B7%BB%E5%8A%A0%E9%98%B4%E5%BD%B1%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%96%B9%E5%BC%8F/</url>
    <content><![CDATA[<!-- toc -->

<h2 id="1-çº¯ä»£ç "><a href="#1-çº¯ä»£ç " class="headerlink" title="1.çº¯ä»£ç "></a>1.çº¯ä»£ç </h2><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// åŸºæœ¬è®¾ç½® </span></span><br><span class="line"><span class="type">CALayer</span> *layer = [view layer];</span><br><span class="line"><span class="comment">/// é˜´å½±åŠå¾„ï¼Œé»˜è®¤ä¸º3.</span></span><br><span class="line">layer.shadowRadius = <span class="number">5.0</span>;</span><br><span class="line"><span class="comment">/// é˜´å½±åç§»é‡ï¼Œé»˜è®¤ä¸º(0, -3).</span></span><br><span class="line"><span class="comment">/// xå³ã€yä¸‹ã€-xå·¦ã€-yä¸Šã€(0, 0)ä¸ºå››è¾¹éƒ½æœ‰é˜´å½±.</span></span><br><span class="line">layer.shadowOffset = <span class="type">CGSizeMake</span>(<span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">/// é˜´å½±é¢œè‰²ï¼Œé»˜è®¤ä¸ºé»‘è‰².</span></span><br><span class="line">layer.shadowColor = [<span class="type">UIColor</span> blackColor].<span class="type">CGColor</span>;</span><br><span class="line"><span class="comment">/// é˜´å½±é€æ˜åº¦ï¼Œé»˜è®¤ä¸º0.</span></span><br><span class="line">layer.shadowOpacity = <span class="number">0.5</span>; </span><br><span class="line"><span class="comment">/// ç”¨äºæ„é€ å±‚é˜´å½±çš„è½®å»“ï¼Œèƒ½å¤Ÿæé«˜æ€§èƒ½</span></span><br><span class="line">view.layer.shadowPath = [[<span class="type">UIBezierPath</span> bezierPathWithRect:view.bounds] <span class="type">CGPath</span>];</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<ul>
<li>å½“æ²¡æœ‰è®¾ç½®<code>layer.shadowPath</code>çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æ‰“å¼€<br><code>Xcode---&gt;Debug---&gt;View Debugging---&gt;Rendering---&gt;Color Offscreen-Rendered Yellow</code><br>æŸ¥çœ‹åˆ°å½“å‰è®¾ç½®é˜´å½±çš„viewæœ‰ä¸€å±‚é»„è‰²è’™æ¿ï¼Œä¹Ÿå°±æ˜¯å½“å‰viewå·²ç»äº§ç”Ÿç¦»å±æ¸²æŸ“äº† </li>
<li>è®¾ç½®äº†<code>layer.shadowPath</code>åï¼Œæ€§èƒ½æœ‰æ‰€æé«˜ï¼Œå»ºè®®ä½¿ç”¨</li>
</ul>
<h2 id="2-xib"><a href="#2-xib" class="headerlink" title="2.xib"></a>2.xib</h2><p>å¯ä»¥åˆ©ç”¨Runtimeå’ŒKVCåœ¨xibä¸­è®¾ç½®ç›¸å…³å±æ€§<br>é€‰ä¸­xibæ–‡ä»¶ä¸­çš„viewï¼Œå³ä¾§å¯ä»¥è®¾ç½®ï¼š<br><img src="https://i.loli.net/2020/06/22/LFKY9R8jbzoxIrP.png" alt="xib config.png"></p>
<p>âš ï¸ä¸Šå›¾ä¸­å·²ç»å°†shadowColoræ›¿æ¢æˆäº†è‡ªå®šä¹‰çš„shadowUIColorï¼Œå› ä¸ºè¿™é‡Œåªèƒ½è®¾ç½®UIColorè€Œä¸æ˜¯CGColorRefï¼ŒåŒç†borderColorä¹Ÿæ˜¯å¦‚æ­¤</p>
<p>ä¸ºCALayeræ·»åŠ Categoryï¼Œæ–°å¢2ä¸ªå±æ€§è§£å†³ä¸Šé¢çš„é—®é¢˜</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// CALayer+Extension.h</span></span><br><span class="line">@interface <span class="type">CALayer</span> (<span class="type">Extension</span>)</span><br><span class="line"><span class="comment">/// è‡ªå®šä¹‰å±æ€§ï¼šè¾¹æ¡†é¢œè‰²</span></span><br><span class="line">@property (nonatomic, strong) <span class="type">UIColor</span> *borderUIColor;</span><br><span class="line"><span class="comment">/// è‡ªå®šä¹‰å±æ€§ï¼šé˜´å½±é¢œè‰²</span></span><br><span class="line">@property (nonatomic, strong) <span class="type">UIColor</span> *shadowUIColor;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line"><span class="comment">/// CALayer+Extension.m é‡å†™Setterå’ŒGetter</span></span><br><span class="line">@implementation <span class="type">CALayer</span> (<span class="type">Extension</span>)</span><br><span class="line"></span><br><span class="line">- (void)setBorderUIColor:(<span class="type">UIColor</span> *)borderUIColor &#123;</span><br><span class="line">    <span class="keyword">self</span>.borderColor = borderUIColor.<span class="type">CGColor</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="type">UIColor</span> *)borderUIColor &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="type">UIColor</span> colorWithCGColor:<span class="keyword">self</span>.borderColor];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)setShadowUIColor:(<span class="type">UIColor</span> *)shadowUIColor &#123;</span><br><span class="line">    <span class="keyword">self</span>.shadowColor = shadowUIColor.<span class="type">CGColor</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="type">UIColor</span> *)shadowUIColor &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="type">UIColor</span> colorWithCGColor:<span class="keyword">self</span>.shadowColor];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>try try?</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">layer.shadowColor = [<span class="built_in">UIColor</span> colorWithWhite:<span class="number">0</span> alpha:<span class="number">0.2</span>].CGColor;</span><br><span class="line">layer.shadowOffset = <span class="built_in">CGSizeMake</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">layer.shadowOpacity = <span class="number">1.0</span>f;</span><br><span class="line">layer.shadowRadius  = <span class="number">12</span>;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>CALayer</tag>
      </tags>
  </entry>
  <entry>
    <title>CALayer</title>
    <url>/2016/08/15/CALayer/</url>
    <content><![CDATA[<h2 id="é”šç‚¹"><a href="#é”šç‚¹" class="headerlink" title="é”šç‚¹"></a>é”šç‚¹</h2><p><code>anchorPoint</code> å®ƒå†³å®šç€<code>CALayer</code>èº«ä¸Šçš„å“ªä¸ªç‚¹ä¼šåœ¨<code>position</code>æ‰€æŒ‡å®šçš„ä½ç½®ä¸Š</p>
<h2 id="CoreGraphics-amp-amp-QuartzCore"><a href="#CoreGraphics-amp-amp-QuartzCore" class="headerlink" title="CoreGraphics &amp;&amp; QuartzCore"></a>CoreGraphics &amp;&amp; QuartzCore</h2><p><code>CoreGraphics</code>:ç»˜å›¾ç›¸å…³</p>
<p><code>QuartzCore</code>:åŠ¨ç”»ç›¸å…³</p>
<h2 id="ä»€ä¹ˆæ˜¯CALayer"><a href="#ä»€ä¹ˆæ˜¯CALayer" class="headerlink" title="ä»€ä¹ˆæ˜¯CALayer"></a>ä»€ä¹ˆæ˜¯CALayer</h2><p>åœ¨iOSç³»ç»Ÿä¸­,èƒ½çœ‹å¾—è§æ‘¸å¾—ç€çš„ä¸œè¥¿åŸºæœ¬ä¸Šéƒ½æ˜¯UIView,æ¯”å¦‚ä¸€ä¸ªæŒ‰é’®,ä¸€ä¸ªæ–‡æœ¬æ ‡ç­¾â€¦â€¦</p>
<ul>
<li><p>å…¶å®UIViewä¹‹æ‰€ä»¥èƒ½æ˜¾ç¤ºåœ¨å±å¹•ä¸Š,å®Œå…¨æ˜¯å› ä¸ºå®ƒå†…éƒ¨çš„ä¸€ä¸ªå±‚</p>
</li>
<li><p>åœ¨åˆ›å»ºUIViewå¯¹è±¡æ—¶,UIViewå†…éƒ¨ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå±‚(å³<code>CALayer</code>å¯¹è±¡),é€šè¿‡<code>UIView</code>çš„<code>layer</code>å±æ€§å¯ä»¥è®¿é—®è¿™ä¸ªå±‚.å½“UIViewéœ€è¦æ˜¾ç¤ºåˆ°å±å¹•ä¸Šæ—¶,ä¼šè°ƒç”¨ä¼šè°ƒç”¨<code>drawRect:</code>æ–¹æ³•è¿›è¡Œç»˜å›¾,å¹¶ä¸”ä¼šå°†æ‰€æœ‰å†…å®¹ç»˜åˆ¶åœ¨è‡ªå·±çš„å±‚ä¸Š,ç»˜å›¾å®Œæ¯•å,ç³»ç»Ÿä¼šå°†å±‚æ‹·è´åˆ°å±å¹•ä¸Š,äºæ˜¯å°±å®Œæˆäº†UIViewçš„æ˜¾ç¤º</p>
</li>
<li><p>æ¢å¥è¯è¯´ï¼ŒUIViewæœ¬èº«ä¸å…·å¤‡æ˜¾ç¤ºçš„åŠŸèƒ½ï¼Œæ˜¯å®ƒå†…éƒ¨çš„å±‚æ‰æœ‰æ˜¾ç¤ºåŠŸèƒ½ã€‚</p>
</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 1.å½“æˆ‘ä»¬å°†ä¸€ä¸ªviewæ·»åŠ åˆ°å¦ä¸€ä¸ªviewä¸Šæ—¶</span></span><br><span class="line">[<span class="keyword">self</span>.view addSubview:testView];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.é¦–å…ˆè°ƒç”¨drawLayer</span></span><br><span class="line">-(<span class="keyword">void</span>)drawLayer:(<span class="built_in">CALayer</span> *)layer inContext:(<span class="built_in">CGContextRef</span>)ctx</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> drawLayer:layer inContext:ctx];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.åœ¨è°ƒç”¨drawRect</span></span><br><span class="line">-(<span class="keyword">void</span>)drawRect:(<span class="built_in">CGRect</span>)rect</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> drawRect:rect];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ›å»ºæ–°çš„å›¾å±‚"><a href="#åˆ›å»ºæ–°çš„å›¾å±‚" class="headerlink" title="åˆ›å»ºæ–°çš„å›¾å±‚"></a>åˆ›å»ºæ–°çš„å›¾å±‚</h2><p>UIViewå†…éƒ¨é»˜è®¤æœ‰ä¸ªCALayerå¯¹è±¡(å±‚)ï¼Œé€šè¿‡layerå±æ€§å¯ä»¥è®¿é—®è¿™ä¸ªå±‚ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªé»˜è®¤çš„å±‚ä¸å…è®¸é‡æ–°åˆ›å»ºï¼Œä½†å¯ä»¥å¾€å±‚é‡Œé¢æ·»åŠ å­å±‚</p>
<ul>
<li>UIViewå¯ä»¥é€šè¿‡addSubview:æ–¹æ³•æ·»åŠ å­è§†å›¾ï¼Œç±»ä¼¼åœ°ï¼ŒCALayerå¯ä»¥é€šè¿‡addSublayer:æ–¹æ³•æ·»åŠ å­å±‚</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">CALayer</span> * layer = [<span class="built_in">CALayer</span> layer];</span><br><span class="line"></span><br><span class="line">layer.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">layer.position = <span class="keyword">self</span>.view.center;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®å†…å®¹</span></span><br><span class="line"></span><br><span class="line">layer.contents = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"ds"</span>];</span><br><span class="line"></span><br><span class="line">layer.cornerRadius = <span class="number">4.0</span>f ;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœè®¾ç½®äº†å›¾ç‰‡ï¼Œéœ€è¦è®¾ç½®è¿™ä¸ªå±æ€§ä¸ºYESæ‰æœ‰åœ†è§’æ•ˆæœ</span></span><br><span class="line">layer.masksToBounds = <span class="literal">YES</span>;</span><br><span class="line"></span><br><span class="line">[<span class="keyword">self</span>.view.layer addSublayer:layer];</span><br></pre></td></tr></table></figure>

<h2 id="ä¸ºä»€ä¹ˆCALayerä¸­ä½¿ç”¨CGColorRefå’ŒCGImageRefè¿™2ç§æ•°æ®ç±»å‹ï¼Œè€Œä¸ç”¨UIColorå’ŒUIImageï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆCALayerä¸­ä½¿ç”¨CGColorRefå’ŒCGImageRefè¿™2ç§æ•°æ®ç±»å‹ï¼Œè€Œä¸ç”¨UIColorå’ŒUIImageï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆCALayerä¸­ä½¿ç”¨CGColorRefå’ŒCGImageRefè¿™2ç§æ•°æ®ç±»å‹ï¼Œè€Œä¸ç”¨UIColorå’ŒUIImageï¼Ÿ"></a>ä¸ºä»€ä¹ˆCALayerä¸­ä½¿ç”¨CGColorRefå’ŒCGImageRefè¿™2ç§æ•°æ®ç±»å‹ï¼Œè€Œä¸ç”¨UIColorå’ŒUIImageï¼Ÿ</h2><ul>
<li><p>é¦–å…ˆè¦çŸ¥é“ï¼šCALayeræ˜¯å®šä¹‰åœ¨QuartzCoreæ¡†æ¶ä¸­çš„ï¼›CGImageRefã€CGColorRefä¸¤ç§æ•°æ®ç±»å‹æ˜¯å®šä¹‰åœ¨CoreGraphicsæ¡†æ¶ä¸­çš„ï¼›UIColorã€UIImageæ˜¯å®šä¹‰åœ¨UIKitæ¡†æ¶ä¸­çš„</p>
</li>
<li><p>å…¶æ¬¡ï¼ŒQuartzCoreæ¡†æ¶å’ŒCoreGraphicsæ¡†æ¶æ˜¯å¯ä»¥è·¨å¹³å°ä½¿ç”¨çš„ï¼Œåœ¨iOSå’ŒMac OS Xä¸Šéƒ½èƒ½ä½¿ç”¨ï¼Œä½†æ˜¯UIKitåªèƒ½åœ¨iOSä¸­ä½¿ç”¨</p>
</li>
<li><p>ä¸è¿‡å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡UIKitå¯¹è±¡çš„ç‰¹å®šæ–¹æ³•ï¼Œå¾—åˆ°CoreGraphicså¯¹è±¡ï¼Œæ¯”å¦‚UIImageçš„CGImageæ–¹æ³•å¯ä»¥è¿”å›ä¸€ä¸ªCGImageRef</p>
</li>
</ul>
<h2 id="UIViewå’ŒCALayerçš„é€‰æ‹©"><a href="#UIViewå’ŒCALayerçš„é€‰æ‹©" class="headerlink" title="UIViewå’ŒCALayerçš„é€‰æ‹©"></a>UIViewå’ŒCALayerçš„é€‰æ‹©</h2><ul>
<li><p>å…¶å®ï¼Œå¯¹æ¯”CALayerï¼ŒUIViewå¤šäº†ä¸€ä¸ªäº‹ä»¶å¤„ç†çš„åŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCALayerä¸èƒ½å¤„ç†ç”¨æˆ·çš„è§¦æ‘¸äº‹ä»¶ï¼Œè€ŒUIViewå¯ä»¥</p>
</li>
<li><p>æ‰€ä»¥ï¼Œå¦‚æœæ˜¾ç¤ºå‡ºæ¥çš„ä¸œè¥¿éœ€è¦è·Ÿç”¨æˆ·è¿›è¡Œäº¤äº’çš„è¯ï¼Œç”¨UIViewï¼›å¦‚æœä¸éœ€è¦è·Ÿç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œç”¨UIViewæˆ–è€…CALayeréƒ½å¯ä»¥</p>
</li>
<li><p>å½“ç„¶ï¼ŒCALayerçš„æ€§èƒ½ä¼šé«˜ä¸€äº›ï¼Œå› ä¸ºå®ƒå°‘äº†äº‹ä»¶å¤„ç†çš„åŠŸèƒ½ï¼Œæ›´åŠ è½»é‡çº§</p>
</li>
</ul>
<h2 id="UIViewå’ŒCALayerçš„å…¶ä»–å…³ç³»"><a href="#UIViewå’ŒCALayerçš„å…¶ä»–å…³ç³»" class="headerlink" title="UIViewå’ŒCALayerçš„å…¶ä»–å…³ç³»"></a>UIViewå’ŒCALayerçš„å…¶ä»–å…³ç³»</h2><ul>
<li><p>UIViewå¯ä»¥é€šè¿‡subviewså±æ€§è®¿é—®æ‰€æœ‰çš„å­è§†å›¾ï¼Œç±»ä¼¼åœ°ï¼ŒCALayerä¹Ÿå¯ä»¥é€šè¿‡sublayerså±æ€§è®¿é—®æ‰€æœ‰çš„å­å±‚</p>
</li>
<li><p>UIViewå¯ä»¥é€šè¿‡superviewå±æ€§è®¿é—®çˆ¶è§†å›¾ï¼Œç±»ä¼¼åœ°ï¼ŒCALayerä¹Ÿå¯ä»¥é€šè¿‡superlayerå±æ€§è®¿é—®çˆ¶å±‚</p>
</li>
<li><p>ä¸‹é¢å†çœ‹ä¸€å¼ UIViewå’ŒCALayerçš„å…³ç³»å›¾ï¼š</p>
</li>
</ul>
<div style="text-align: center">
<img src="/uploads/layer.png">
</div>

<h2 id="Core-Animation"><a href="#Core-Animation" class="headerlink" title="Core Animation"></a>Core Animation</h2><p>Core Animationï¼Œä¸­æ–‡ç¿»è¯‘ä¸ºæ ¸å¿ƒåŠ¨ç”»ï¼Œå®ƒæ˜¯ä¸€ç»„éå¸¸å¼ºå¤§çš„åŠ¨ç”»å¤„ç†APIï¼Œä½¿ç”¨å®ƒèƒ½åšå‡ºéå¸¸ç‚«ä¸½çš„åŠ¨ç”»æ•ˆæœï¼Œè€Œä¸”å¾€å¾€æ˜¯äº‹åŠåŠŸå€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨å°‘é‡çš„ä»£ç å°±å¯ä»¥å®ç°éå¸¸å¼ºå¤§çš„åŠŸèƒ½ã€‚</p>
<ul>
<li>è¦æ³¨æ„çš„æ˜¯ï¼ŒCore Animationæ˜¯ç›´æ¥ä½œç”¨åœ¨CALayerä¸Šçš„ï¼Œå¹¶éUIViewã€‚</li>
</ul>
<h3 id="Core-Animation-1"><a href="#Core-Animation-1" class="headerlink" title="Core Animation"></a>Core Animation</h3><ul>
<li><p>ä½¿ç”¨å®ƒéœ€è¦å…ˆæ·»åŠ QuartzCore.frameworkæ¡†æ¶å’Œå¼•å…¥ä¸»å¤´æ–‡ä»¶&lt;QuartzCore/QuartzCore.h&gt;</p>
</li>
<li><p>åˆå§‹åŒ–ä¸€ä¸ªCAAnimationå¯¹è±¡ï¼Œå¹¶è®¾ç½®ä¸€äº›åŠ¨ç”»ç›¸å…³å±æ€§</p>
</li>
<li><p>é€šè¿‡è°ƒç”¨CALayerçš„addAnimation:forKey:æ–¹æ³•å¢åŠ CAAnimationå¯¹è±¡åˆ°CALayerä¸­ï¼Œè¿™æ ·å°±èƒ½å¼€å§‹æ‰§è¡ŒåŠ¨ç”»äº†</p>
</li>
<li><p>é€šè¿‡è°ƒç”¨CALayerçš„removeAnimationForKey:æ–¹æ³•å¯ä»¥åœæ­¢CALayerä¸­çš„åŠ¨ç”»</p>
</li>
</ul>
<blockquote>
<p>CAAnimationçš„ç»§æ‰¿å…³ç³»</p>
</blockquote>
<div style="text-align:center">
<img src="/uploads/CAAnimation.png">
</div>

<blockquote>
<p>é»‘çº¿ä»£è¡¨ç»§æ‰¿ï¼Œé»‘è‰²æ–‡å­—ä»£è¡¨ç±»åï¼Œç™½è‰²æ–‡å­—ä»£è¡¨å±æ€§ã€‚å…¶ä¸­CAMediaTimingæ˜¯ä¸€ä¸ªåè®®(protocol)ã€‚</p>
</blockquote>
<h3 id="CAAnimationçš„å¸¸ç”¨å±æ€§"><a href="#CAAnimationçš„å¸¸ç”¨å±æ€§" class="headerlink" title="CAAnimationçš„å¸¸ç”¨å±æ€§"></a>CAAnimationçš„å¸¸ç”¨å±æ€§</h3><ul>
<li>duration: åŠ¨ç”»çš„æŒç»­æ—¶é—´</li>
<li>repeatCount: åŠ¨ç”»çš„é‡å¤æ¬¡æ•°</li>
<li>timeFunction:æ§åˆ¶åŠ¨ç”»è¿è¡Œçš„èŠ‚å¥</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">kCAMediaTimingFunctionLinearï¼ˆçº¿æ€§ï¼‰ï¼šåŒ€é€Ÿï¼Œç»™ä½ ä¸€ä¸ªç›¸å¯¹é™æ€çš„æ„Ÿè§‰</span><br><span class="line">kCAMediaTimingFunctionEaseInï¼ˆæ¸è¿›ï¼‰ï¼šåŠ¨ç”»ç¼“æ…¢è¿›å…¥ï¼Œç„¶ååŠ é€Ÿç¦»å¼€</span><br><span class="line">kCAMediaTimingFunctionEaseOutï¼ˆæ¸å‡ºï¼‰ï¼šåŠ¨ç”»å…¨é€Ÿè¿›å…¥ï¼Œç„¶åå‡é€Ÿçš„åˆ°è¾¾ç›®çš„åœ°</span><br><span class="line">kCAMediaTimingFunctionEaseInEaseOutï¼ˆæ¸è¿›æ¸å‡ºï¼‰ï¼šåŠ¨ç”»ç¼“æ…¢çš„è¿›å…¥ï¼Œä¸­é—´åŠ é€Ÿï¼Œç„¶åå‡é€Ÿçš„åˆ°è¾¾ç›®çš„åœ°ã€‚è¿™ä¸ªæ˜¯é»˜è®¤çš„åŠ¨ç”»è¡Œä¸ºã€‚</span><br></pre></td></tr></table></figure>

<ul>
<li>delegate: æ§åˆ¶åŠ¨ç”»è¿è¡Œçš„èŠ‚å¥</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSObject</span> (<span class="title">CAAnimationDelegate</span>)</span></span><br><span class="line"><span class="comment">// åŠ¨ç”»å¼€å§‹æ‰§è¡Œçš„æ—¶å€™è§¦å‘è¿™ä¸ªæ–¹æ³•</span></span><br><span class="line">- (<span class="keyword">void</span>)animationDidStart:(<span class="built_in">CAAnimation</span> *)anim;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ¨ç”»æ‰§è¡Œå®Œæ¯•çš„æ—¶å€™è§¦å‘è¿™ä¸ªæ–¹æ³•</span></span><br><span class="line">- (<span class="keyword">void</span>)animationDidStop:(<span class="built_in">CAAnimation</span> *)anim finished:(<span class="built_in">BOOL</span>)flag;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<h4 id="CAPropertyAnimation"><a href="#CAPropertyAnimation" class="headerlink" title="CAPropertyAnimation"></a>CAPropertyAnimation</h4><ul>
<li><p>CAPropertyAnimationæ˜¯CAAnimationçš„å­ç±»ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œè¦æƒ³åˆ›å»ºåŠ¨ç”»å¯¹è±¡ï¼Œåº”è¯¥ä½¿ç”¨å®ƒçš„ä¸¤ä¸ªå­ç±»ï¼šCABasicAnimationå’ŒCAKeyframeAnimation</p>
</li>
<li><p>å®ƒæœ‰ä¸ªNSStringç±»å‹çš„keyPathå±æ€§ï¼Œä½ å¯ä»¥æŒ‡å®šCALayerçš„æŸä¸ªå±æ€§åä¸ºkeyPathï¼Œå¹¶ä¸”å¯¹CALayerçš„è¿™ä¸ªå±æ€§çš„å€¼è¿›è¡Œä¿®æ”¹ï¼Œè¾¾åˆ°ç›¸åº”çš„åŠ¨ç”»æ•ˆæœã€‚æ¯”å¦‚ï¼ŒæŒ‡å®š@â€positionâ€ä¸ºkeyPathï¼Œå°±ä¼šä¿®æ”¹CALayerçš„positionå±æ€§çš„å€¼ï¼Œä»¥è¾¾åˆ°å¹³ç§»çš„åŠ¨ç”»æ•ˆæœ</p>
</li>
<li><p>å› æ­¤ï¼Œåˆå§‹åŒ–å¥½CAPropertyAnimationçš„å­ç±»å¯¹è±¡åï¼Œå¿…é¡»å…ˆè®¾ç½®keyPathï¼Œææ¸…æ¥šè¦ä¿®æ”¹çš„æ˜¯CALayerçš„å“ªä¸ªå±æ€§ï¼Œæ‰§è¡Œçš„æ˜¯æ€æ ·çš„åŠ¨ç”»</p>
</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¯¹å®ƒçš„ä½ç½®åšåŠ¨ç”»</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">CABasicAnimation</span> * animation = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"position"</span>];</span><br><span class="line"></span><br><span class="line">animation.duration = <span class="number">1.4</span>;</span><br><span class="line"></span><br><span class="line">animation.fromValue = [<span class="built_in">NSValue</span> valueWithCGPoint:<span class="built_in">CGPointMake</span>(<span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line"></span><br><span class="line">animation.toValue = [<span class="built_in">NSValue</span> valueWithCGPoint:<span class="built_in">CGPointMake</span>(<span class="number">200</span>, <span class="number">200</span>)];</span><br><span class="line"></span><br><span class="line"><span class="comment">//é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŠ¨ç”»æ‰§è¡Œå®Œæ¯•åï¼ŒåŠ¨ç”»ä¼šè‡ªåŠ¨ä»CALayerä¸Šç§»é™¤ï¼ŒCALayeråˆä¼šå›åˆ°åŸæ¥çš„çŠ¶æ€ã€‚ä¸ºäº†ä¿æŒåŠ¨ç”»æ‰§è¡Œåçš„çŠ¶æ€</span></span><br><span class="line">animation.removedOnCompletion = <span class="literal">NO</span>;</span><br><span class="line"></span><br><span class="line">animation.fillMode = kCAFillModeForwards;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‡å®šåŠ¨ç”»ä»£ç†</span></span><br><span class="line">animation.delegate = <span class="keyword">self</span>;</span><br><span class="line"></span><br><span class="line">[view.layer addAnimation:animation forKey:<span class="string">@"translate"</span>];</span><br></pre></td></tr></table></figure>


<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®ç°åœ†ç¯waittingViewä¸»è¦å®ç°ä»£ç </span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">CAReplicatorLayer</span> * layer = [[<span class="built_in">CAReplicatorLayer</span> alloc] init];</span><br><span class="line">    </span><br><span class="line">    layer.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    </span><br><span class="line">    layer.backgroundColor = [<span class="built_in">UIColor</span> grayColor].CGColor;</span><br><span class="line">    </span><br><span class="line">    layer.position = <span class="keyword">self</span>.view.center;</span><br><span class="line">    </span><br><span class="line">    layer.cornerRadius = <span class="number">6.0</span>f;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view.layer addSublayer:layer];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CALayer</span> * dotLayer = [[<span class="built_in">CALayer</span> alloc] init];</span><br><span class="line">    </span><br><span class="line">    dotLayer.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">15</span>, <span class="number">15</span>);</span><br><span class="line">    </span><br><span class="line">    dotLayer.position = <span class="built_in">CGPointMake</span>(<span class="number">14</span>, <span class="number">50</span>);</span><br><span class="line">    </span><br><span class="line">    dotLayer.cornerRadius = <span class="number">7.5</span>;</span><br><span class="line">    </span><br><span class="line">    dotLayer.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor].CGColor;</span><br><span class="line">    </span><br><span class="line">    [layer addSublayer:dotLayer];</span><br><span class="line">    </span><br><span class="line">    layer.instanceCount = <span class="number">10</span> ;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">float</span> angle = M_PI * <span class="number">2</span> / <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line">    layer.instanceTransform = <span class="built_in">CATransform3DMakeRotation</span>(angle, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line">    <span class="built_in">CABasicAnimation</span> * animation = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"transform.scale"</span>];</span><br><span class="line">    </span><br><span class="line">    animation.duration = <span class="number">1.0</span>f;</span><br><span class="line">    </span><br><span class="line">    animation.fromValue = @<span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    animation.toValue = @<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    animation.repeatCount = MAXFLOAT;</span><br><span class="line">    </span><br><span class="line">    [dotLayer addAnimation:animation forKey:<span class="string">@"animation"</span>];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    layer.instanceDelay = <span class="number">1</span> / <span class="number">10.0</span>;</span><br><span class="line">    </span><br><span class="line">    dotLayer.transform = <span class="built_in">CATransform3DMakeScale</span>(<span class="number">0.0</span>, <span class="number">0.0</span>,<span class="number">0.0</span>);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
      <tags>
        <tag>CALayer</tag>
      </tags>
  </entry>
  <entry>
    <title>CoreData</title>
    <url>/2019/02/01/CoreData/</url>
    <content><![CDATA[<h1 id="1-åˆ›å»ºæ‰˜ç®¡å¯¹è±¡æ¨¡å‹"><a href="#1-åˆ›å»ºæ‰˜ç®¡å¯¹è±¡æ¨¡å‹" class="headerlink" title="1. åˆ›å»ºæ‰˜ç®¡å¯¹è±¡æ¨¡å‹"></a>1. åˆ›å»ºæ‰˜ç®¡å¯¹è±¡æ¨¡å‹</h1><p>CoreDataçš„å¾ˆå¤šåŠŸèƒ½éƒ½ä¾èµ–äºä½ åˆ›å»ºçš„å®ä½“ç±»çš„æè¿°ã€å±æ€§ã€å…³ç³»çš„æ¨¡å¼ã€‚CoreDataä½¿ç”¨ä¸€ä¸ªåä¸ºæ‰˜ç®¡å¯¹è±¡æ¨¡å‹çš„æ¨¡å¼â€”â€”<code>NSManagedObjectModel</code>çš„å®ä¾‹ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ¨¡å‹è¶Šä¸°å¯Œï¼ŒCoreDataæ”¯æŒä½ ç¼–å†™çš„åº”ç”¨ç¨‹åºçš„èƒ½åŠ›å°±è¶Šå¼ºã€‚</p>
<p>æ‰˜ç®¡å¯¹è±¡æ¨¡å‹å…è®¸CoreDataä»æŒä¹…å­˜å‚¨ä¸­çš„è®°å½•æ˜ å°„åˆ°åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„æ‰˜ç®¡å¯¹è±¡ã€‚æ¨¡å‹æ˜¯å®ä½“æè¿°å¯¹è±¡(<code>NSEntityDescription</code>çš„å®ä¾‹)çš„é›†åˆã€‚å®ä½“æè¿°æ ¹æ®å®ä½“çš„åç§°ã€ç”¨äºè¡¨ç¤ºåº”ç”¨ç¨‹åºä¸­çš„å®ä½“çš„ç±»çš„åç§°ä»¥åŠå®ƒå…·æœ‰å“ªäº›å±æ€§(å±æ€§å’Œå…³ç³»)æ¥æè¿°å®ä½“(å¯ä»¥å°†å…¶è§†ä¸ºæ•°æ®åº“ä¸­çš„è¡¨)ã€‚</p>
<h2 id="åˆ›å»ºå®ä½“å’Œå®ä½“çš„å±æ€§"><a href="#åˆ›å»ºå®ä½“å’Œå®ä½“çš„å±æ€§" class="headerlink" title="åˆ›å»ºå®ä½“å’Œå®ä½“çš„å±æ€§"></a>åˆ›å»ºå®ä½“å’Œå®ä½“çš„å±æ€§</h2><p>åœ¨Xcodeä¸­å¯åŠ¨æ–°é¡¹ç›®å¹¶æ‰“å¼€æ¨¡æ¿é€‰æ‹©å¯¹è¯æ¡†æ—¶ï¼Œé€‰æ‹©Use Core Dataã€‚CoreDataæ¨¡å‹çš„æºæ–‡ä»¶ä¼šä½œä¸ºæ¨¡æ¿çš„ä¸€éƒ¨åˆ†åˆ›å»ºï¼Œè¯¥æºæ–‡ä»¶çš„æ‰©å±•åä¸º<code>.xcdatamodeld</code>ã€‚åœ¨å¯¼èˆªåŒºåŸŸä¸­é€‰æ‹©è¯¥æ–‡ä»¶ä»¥æ˜¾ç¤ºCoreDataæ¨¡å‹ç¼–è¾‘å™¨ã€‚</p>
<h2 id="å®ä½“åå’Œç±»å"><a href="#å®ä½“åå’Œç±»å" class="headerlink" title="å®ä½“åå’Œç±»å"></a>å®ä½“åå’Œç±»å</h2><p>æ³¨æ„ï¼Œå®ä½“åå’Œç±»å(NSManagedObjectçš„å­ç±»)æ˜¯ä¸åŒçš„ã€‚æ•°æ®æ¨¡å‹ä¸­çš„å®ä½“ç»“æ„ä¸éœ€è¦åŒ¹é…ç±»å±‚æ¬¡ç»“æ„ã€‚å®˜æ–¹æ¨èçš„ç±»åå¸¦ä¸ªMOåç¼€ã€‚</p>
<h6 id="æ€§èƒ½é—®é¢˜"><a href="#æ€§èƒ½é—®é¢˜" class="headerlink" title="æ€§èƒ½é—®é¢˜"></a>æ€§èƒ½é—®é¢˜</h6><p>åœ¨ä½¿ç”¨SQLiteæŒä¹…å­˜å‚¨æ—¶ï¼Œè¦å°å¿ƒå®ä½“ç»§æ‰¿ã€‚ä»å¦ä¸€ä¸ªå®ä½“ç»§æ‰¿çš„æ‰€æœ‰å®ä½“éƒ½å­˜åœ¨äºSQLiteä¸­çš„åŒä¸€ä¸ªè¡¨ä¸­ã€‚SQLiteæŒä¹…å­˜å‚¨è®¾è®¡ä¸­çš„è¿™ä¸ªå› ç´ å¯èƒ½ä¼šé€ æˆæ€§èƒ½é—®é¢˜ã€‚</p>
<p>#2. CoreDataæ ˆ</p>
<h3 id="1-NSPersistentContainerï¼ˆæŒä¹…åŒ–å®¹å™¨ï¼‰"><a href="#1-NSPersistentContainerï¼ˆæŒä¹…åŒ–å®¹å™¨ï¼‰" class="headerlink" title="1.NSPersistentContainerï¼ˆæŒä¹…åŒ–å®¹å™¨ï¼‰"></a>1.NSPersistentContainerï¼ˆæŒä¹…åŒ–å®¹å™¨ï¼‰</h3><p>ä»iOS 10å’ŒmacOS 10.12å¼€å§‹ï¼Œ<code>NSPersistentContainer</code>å¤„ç†æ ¸å¿ƒæ•°æ®æ ˆçš„åˆ›å»ºï¼Œå¹¶æä¾›å¯¹<code>NSManagedObjectContext</code>çš„è®¿é—®ï¼Œä»¥åŠè®¸å¤šæ–¹ä¾¿çš„æ–¹æ³•ã€‚åœ¨iOS 10å’ŒmacOS 10.12ä¹‹å‰ï¼Œæ ¸å¿ƒæ•°æ®æ ˆçš„åˆ›å»ºæ›´åŠ å¤æ‚ã€‚</p>
<h3 id="2-NSManagedObjectModelï¼ˆå—æ‰˜ç®¡çš„æ¨¡å‹å¯¹è±¡ï¼‰"><a href="#2-NSManagedObjectModelï¼ˆå—æ‰˜ç®¡çš„æ¨¡å‹å¯¹è±¡ï¼‰" class="headerlink" title="2.NSManagedObjectModelï¼ˆå—æ‰˜ç®¡çš„æ¨¡å‹å¯¹è±¡ï¼‰"></a>2.NSManagedObjectModelï¼ˆå—æ‰˜ç®¡çš„æ¨¡å‹å¯¹è±¡ï¼‰</h3><p><code>NSManagedObjectModel</code>å®ä¾‹æè¿°æ ¸å¿ƒæ•°æ®æ ˆå°†è¦è®¿é—®çš„æ•°æ®ã€‚åœ¨åˆ›å»º<code>Core Data å †æ ˆ</code>æœŸé—´ï¼Œ<code>NSManagedObjectModel</code>ä½œä¸ºåˆ›å»ºå †æ ˆçš„ç¬¬ä¸€æ­¥åŠ è½½åˆ°å†…å­˜ä¸­ã€‚åˆå§‹åŒ–<code>NSManagedObjectModel</code>å¯¹è±¡ä¹‹åï¼Œæ„é€ <code>NSPersistentStoreCoordinator</code>å¯¹è±¡ã€‚</p>
<h3 id="3-NSPersistentStoreCoordinatorï¼ˆæŒä¹…åŒ–å­˜å‚¨åè°ƒå™¨ï¼‰"><a href="#3-NSPersistentStoreCoordinatorï¼ˆæŒä¹…åŒ–å­˜å‚¨åè°ƒå™¨ï¼‰" class="headerlink" title="3.NSPersistentStoreCoordinatorï¼ˆæŒä¹…åŒ–å­˜å‚¨åè°ƒå™¨ï¼‰"></a>3.NSPersistentStoreCoordinatorï¼ˆæŒä¹…åŒ–å­˜å‚¨åè°ƒå™¨ï¼‰</h3><ul>
<li><code>NSPersistentStoreCoordinator</code>ä½äº<code>Core Data å †æ ˆ</code>çš„ä¸­é—´ï¼Œè´Ÿè´£å®ç°åœ¨æ¨¡å‹ä¸­å®šä¹‰çš„å®ä½“çš„å®ä¾‹ã€‚å®ƒåœ¨æ¨¡å‹ä¸­åˆ›å»ºå®ä½“çš„æ–°å®ä¾‹ï¼Œå¹¶ä»æŒä¹…å­˜å‚¨<code>(NSPersistentStore)</code>æ£€ç´¢ç°æœ‰å®ä¾‹ã€‚æŒä¹…æ€§å­˜å‚¨å¯ä»¥åœ¨ç£ç›˜ä¸Šæˆ–å†…å­˜ä¸­ã€‚æ ¹æ®åº”ç”¨ç¨‹åºçš„ç»“æ„ï¼Œå¯ä»¥ç”±<code>NSPersistentStoreCoordinator</code>åè°ƒå¤šä¸ªæŒä¹…æ€§å­˜å‚¨ï¼Œå°½ç®¡è¿™ç§æƒ…å†µå¹¶ä¸å¸¸è§ã€‚</li>
<li><code>NSManagedObjectModel</code>å®šä¹‰æ•°æ®çš„ç»“æ„ï¼Œè€Œ<code>NSPersistentStoreCoordinator</code>ä»æŒä¹…å­˜å‚¨ä¸­çš„æ•°æ®å®ç°å¯¹è±¡ï¼Œå¹¶å°†è¿™äº›å¯¹è±¡ä¼ é€’ç»™è¯·æ±‚è€…<code>NSManagedObjectContext</code>ã€‚<code>NSPersistentStoreCoordinator</code>è¿˜éªŒè¯æ•°æ®çŠ¶æ€æ˜¯å¦ä¸<code>NSManagedObjectModel</code>ä¸­å®šä¹‰åŒ¹é…çš„ä¸€è‡´ã€‚</li>
<li>å°†<code>NSPersistentStore</code>æ·»åŠ åˆ°<code>NSPersistentStoreCoordinator</code>çš„è°ƒç”¨æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚æœ‰å‡ ç§æƒ…å†µä¼šå¯¼è‡´æ­¤è°ƒç”¨é˜»å¡è°ƒç”¨çº¿ç¨‹(ä¾‹å¦‚ï¼Œä¸iCloudçš„é›†æˆå’Œè¿ç§»)ã€‚å› æ­¤ï¼Œæœ€å¥½å¼‚æ­¥æ‰§è¡Œæ­¤è°ƒç”¨ï¼Œä»¥é¿å…é˜»å¡ç”¨æˆ·ç•Œé¢é˜Ÿåˆ—ã€‚</li>
</ul>
<h3 id="4-NSManagedObjectContextï¼ˆå—æ‰˜ç®¡å¯¹è±¡ä¸Šä¸‹æ–‡ï¼‰"><a href="#4-NSManagedObjectContextï¼ˆå—æ‰˜ç®¡å¯¹è±¡ä¸Šä¸‹æ–‡ï¼‰" class="headerlink" title="4.NSManagedObjectContextï¼ˆå—æ‰˜ç®¡å¯¹è±¡ä¸Šä¸‹æ–‡ï¼‰"></a>4.NSManagedObjectContextï¼ˆå—æ‰˜ç®¡å¯¹è±¡ä¸Šä¸‹æ–‡ï¼‰</h3><ul>
<li><p>æ‰˜ç®¡å¯¹è±¡ä¸Šä¸‹æ–‡<code>(NSManagedObjectContext)</code>æ˜¯åº”ç”¨ç¨‹åºå°†ä¸ä¹‹äº¤äº’æœ€å¤šçš„å¯¹è±¡ï¼Œå› æ­¤å®ƒæ˜¯åº”ç”¨ç¨‹åºå…¶ä½™éƒ¨åˆ†å…¬å¼€çš„å¯¹è±¡ã€‚å¯ä»¥å°†å®ƒçœ‹ä½œæ˜¯æ™ºèƒ½çš„è‰ç¨¿æœ¬ã€‚å½“æ‚¨ä»æŒä¹…å­˜å‚¨ä¸­è·å–å¯¹è±¡æ—¶ï¼Œæ‚¨å°†ä¸´æ—¶å‰¯æœ¬å¸¦åˆ°ä¸´æ—¶å­˜å‚¨åŒºï¼Œåœ¨é‚£é‡Œå®ƒä»¬å½¢æˆä¸€ä¸ªå¯¹è±¡å›¾(æˆ–å¯¹è±¡å›¾çš„é›†åˆ)ã€‚ç„¶åå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½ä¿®æ”¹è¿™äº›å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œé™¤éæ‚¨å®é™…ä¿å­˜è¿™äº›æ›´æ”¹ï¼Œå¦åˆ™æŒä¹…æ€§å­˜å‚¨å°†ä¿æŒä¸å˜ã€‚</p>
</li>
<li><p>æ‰€æœ‰æ‰˜ç®¡å¯¹è±¡éƒ½å¿…é¡»åœ¨ä¸Šä¸‹æ–‡ä¸­æ³¨å†Œã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä¸Šä¸‹æ–‡å°†å¯¹è±¡æ·»åŠ åˆ°å¯¹è±¡å›¾ä¸­ï¼Œå¹¶ä»å¯¹è±¡å›¾ä¸­åˆ é™¤å¯¹è±¡ã€‚ä¸Šä¸‹æ–‡è·Ÿè¸ªæ‚¨å¯¹å•ä¸ªå¯¹è±¡çš„å±æ€§å’Œå¯¹è±¡ä¹‹é—´çš„å…³ç³»æ‰€åšçš„æ›´æ”¹ã€‚é€šè¿‡è·Ÿè¸ªæ›´æ”¹ï¼Œä¸Šä¸‹æ–‡èƒ½å¤Ÿä¸ºæ‚¨æä¾›æ’¤é”€å’Œé‡åšæ”¯æŒã€‚å®ƒè¿˜ç¡®ä¿å¦‚æœæ‚¨æ›´æ”¹äº†å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œåˆ™å¯ä»¥ç»´æŠ¤å¯¹è±¡å›¾çš„å®Œæ•´æ€§ã€‚</p>
</li>
<li><p>å¦‚æœé€‰æ‹©ä¿å­˜æ‰€åšçš„æ›´æ”¹ï¼Œä¸Šä¸‹æ–‡å°†ç¡®ä¿å¯¹è±¡å¤„äºæœ‰æ•ˆçŠ¶æ€ã€‚å¦‚æœæ˜¯ï¼Œåˆ™å°†æ›´æ”¹å†™å…¥æŒä¹…æ€§å­˜å‚¨(æˆ–å¤šä¸ªå­˜å‚¨)ï¼Œä¸ºåˆ›å»ºçš„å¯¹è±¡æ·»åŠ æ–°è®°å½•ï¼Œå¹¶ä¸ºåˆ é™¤çš„å¯¹è±¡åˆ é™¤è®°å½•ã€‚</p>
</li>
<li><p>æ²¡æœ‰<code>CoreData</code>ï¼Œæ‚¨å¿…é¡»ç¼–å†™æ–¹æ³•æ¥æ”¯æŒæ•°æ®çš„å½’æ¡£å’Œéå½’æ¡£ï¼Œè·Ÿè¸ªæ¨¡å‹å¯¹è±¡ï¼Œå¹¶ä¸undo manageräº¤äº’ä»¥æ”¯æŒundoã€‚åœ¨<code>CoreData</code>æ¡†æ¶ä¸­ï¼Œå¤§éƒ¨åˆ†åŠŸèƒ½æ˜¯è‡ªåŠ¨æä¾›çš„ï¼Œä¸»è¦æ˜¯é€šè¿‡æ‰˜ç®¡å¯¹è±¡ä¸Šä¸‹æ–‡æä¾›çš„ã€‚</p>
</li>
</ul>
<h1 id="3-åˆ›å»ºå¹¶ä¿å­˜å—æ‰˜ç®¡çš„å¯¹è±¡"><a href="#3-åˆ›å»ºå¹¶ä¿å­˜å—æ‰˜ç®¡çš„å¯¹è±¡" class="headerlink" title="3. åˆ›å»ºå¹¶ä¿å­˜å—æ‰˜ç®¡çš„å¯¹è±¡"></a>3. åˆ›å»ºå¹¶ä¿å­˜å—æ‰˜ç®¡çš„å¯¹è±¡</h1><p><code>NSManagedObject</code>å®ä¾‹å®ç°æ ¸å¿ƒæ•°æ®æ¨¡å‹å¯¹è±¡æ‰€éœ€çš„åŸºæœ¬è¡Œä¸ºã€‚<code>NSManagedObject</code>å®ä¾‹éœ€è¦ä¸¤ä¸ªå…ƒç´ :å®ä½“æè¿°(NSEntityDescriptionå®ä¾‹)å’Œæ‰˜ç®¡å¯¹è±¡ä¸Šä¸‹æ–‡(NSManagedObjectContextå®ä¾‹)ã€‚å®ä½“æè¿°åŒ…æ‹¬å¯¹è±¡æ‰€è¡¨ç¤ºçš„å®ä½“çš„åç§°åŠå…¶å±æ€§å’Œå…³ç³»ã€‚æ‰˜ç®¡å¯¹è±¡ä¸Šä¸‹æ–‡è¡¨ç¤ºåœ¨å…¶ä¸­åˆ›å»ºæ‰˜ç®¡å¯¹è±¡çš„è‰ç¨¿ã€‚ä¸Šä¸‹æ–‡è·Ÿè¸ªå¯¹è±¡çš„æ›´æ”¹å’Œå¯¹è±¡ä¹‹é—´çš„å…³ç³»ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>HTTPæ¦‚è¿°</title>
    <url>/2017/07/03/HTTP%E6%A6%82%E8%BF%B0/</url>
    <content><![CDATA[<h4 id="1-1-åª’ä½“ç±»å‹"><a href="#1-1-åª’ä½“ç±»å‹" class="headerlink" title="1.1 åª’ä½“ç±»å‹"></a>1.1 åª’ä½“ç±»å‹</h4><p><code>MIME type (Multipurpose Internet Mail Extension, å¤šç”¨é€”å› ç‰¹ç½‘é‚®ä»¶æ‹“å±•) 
MIMEç±»å‹æ˜¯ä¸€ç§æ–‡æœ¬æ ‡è®°ï¼Œè¡¨ç¤ºä¸€ç§ä¸»è¦çš„å¯¹è±¡ç±»å‹å’Œä¸€ä¸ªç‰¹å®šçš„å­ç±»å‹ï¼Œä¸­é—´ç”±ä¸€æ¡æ–œæ æ¥åˆ†éš”ã€‚</code></p>
<h4 id="1-2-URI-Uniform-Resource-Identifier-ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦"><a href="#1-2-URI-Uniform-Resource-Identifier-ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦" class="headerlink" title="1.2 URI (Uniform Resource Identifier, ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦)"></a>1.2 URI (Uniform Resource Identifier, ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦)</h4><p><code>æ¯ä¸ªWebæœåŠ¡å™¨èµ„æºéƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œè¢«ç§°ä¸ºç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ã€‚
æ¯”å¦‚ï¼šJoeçš„äº”é‡‘å•†åº—çš„WebæœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªå›¾ç‰‡èµ„æºçš„URIï¼š
http://www.joes-hardware.com/specials/saw-blade.gif</code></p>
<h4 id="1-3-URL-ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œæ˜¯èµ„æºæ ‡è¯†ç¬¦æœ€å¸¸è§çš„å½¢å¼"><a href="#1-3-URL-ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œæ˜¯èµ„æºæ ‡è¯†ç¬¦æœ€å¸¸è§çš„å½¢å¼" class="headerlink" title="1.3 URL (ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œæ˜¯èµ„æºæ ‡è¯†ç¬¦æœ€å¸¸è§çš„å½¢å¼)"></a>1.3 URL (ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œæ˜¯èµ„æºæ ‡è¯†ç¬¦æœ€å¸¸è§çš„å½¢å¼)</h4><p><code>URLæè¿°äº†ä¸€å°ç‰¹å®šæœåŠ¡å™¨ä¸ŠæŸèµ„æºçš„ç‰¹å®šä½ç½®ã€‚å®ƒä»¬å¯ä»¥æ˜ç¡®è¯´æ˜å¦‚ä½•ä»ä¸€ä¸ªç²¾ç¡®ã€å›ºå®šçš„ä½ç½®è·å–èµ„æºã€‚æ ¼å¼ï¼šhttp://(åè®®) + www.xxx.com(å› ç‰¹ç½‘åœ°å€) + /sepcials/saw-blade.gif(æŸä¸ªèµ„æº)</code></p>
<h4 id="1-4-URN-ï¼ˆç»Ÿä¸€èµ„æºåï¼‰"><a href="#1-4-URN-ï¼ˆç»Ÿä¸€èµ„æºåï¼‰" class="headerlink" title="1.4 URN ï¼ˆç»Ÿä¸€èµ„æºåï¼‰"></a>1.4 URN ï¼ˆç»Ÿä¸€èµ„æºåï¼‰</h4><p><code>URNæ˜¯ä½œä¸ºç‰¹å®šå†…å®¹çš„å”¯ä¸€åç§°ä½¿ç”¨çš„ï¼Œä¸ç›®å‰çš„èµ„æºæ‰€åœ¨åœ°æ— å…³ã€‚URNä»å¤„è¯•éªŒé˜¶æ®µï¼Œç›®å‰å¹¶æœªå¤§èŒƒå›´ä½¿ç”¨ã€‚</code></p>
<p><strong>æ³¨æ„ï¼š<br>1.å‡ ä¹æ‰€æœ‰çš„URIéƒ½æ˜¯URLã€‚<br>2.URIæ˜¯ä¸€ç±»æ›´é€šç”¨çš„èµ„æºæ ‡è¯†ç¬¦ï¼ŒURLå®é™…ä¸Šæ˜¯å®ƒçš„ä¸€ä¸ªå­é›†ã€‚URIæ˜¯ä¸€ä¸ªé€šç”¨çš„æ¦‚å¿µï¼Œç”±URLå’ŒURNæ„æˆï¼ŒURLæ˜¯é€šè¿‡æè¿°èµ„æºçš„ä½ç½®æ¥è¡¨ç¤ºèµ„æºçš„ï¼Œè€ŒURNæ˜¯é€šè¿‡åå­—æ¥æ ‡è¯†èµ„æºçš„ï¼Œä¸å®ƒä»¬å½“å‰æ‰€å¤„ä½ç½®æ— å…³ã€‚</strong></p>
<h4 id="1-5-æ–¹æ³•"><a href="#1-5-æ–¹æ³•" class="headerlink" title="1.5 æ–¹æ³•"></a>1.5 æ–¹æ³•</h4><table>
<thead>
<tr>
<th align="center">HTTPæ–¹æ³•</th>
<th align="center">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">GET</td>
<td align="center">ä»æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€å‘½åèµ„æº</td>
</tr>
<tr>
<td align="center">PUT</td>
<td align="center">å°†æ¥è‡ªå®¢æˆ·ç«¯çš„æ•°æ®å­˜å‚¨åˆ°ä¸€ä¸ªå‘½åçš„æœåŠ¡å™¨èµ„æºä¸­å»</td>
</tr>
<tr>
<td align="center">DELETE</td>
<td align="center">ä»æœåŠ¡å™¨ä¸­åˆ é™¤å‘½åèµ„æº</td>
</tr>
<tr>
<td align="center">POST</td>
<td align="center">å°†å®¢æˆ·ç«¯æ•°æ®å‘é€åˆ°ä¸€ä¸ªæœåŠ¡å™¨ç½‘å…³åº”ç”¨ç¨‹åº</td>
</tr>
<tr>
<td align="center">HEAD</td>
<td align="center">ä»…å‘é€å‘½åèµ„æºå“åº”ä¸­çš„HTTPé¦–éƒ¨</td>
</tr>
</tbody></table>
<h4 id="1-6-çŠ¶æ€ç "><a href="#1-6-çŠ¶æ€ç " class="headerlink" title="1.6 çŠ¶æ€ç "></a>1.6 çŠ¶æ€ç </h4><table>
<thead>
<tr>
<th align="center">HTTPçŠ¶æ€ç </th>
<th align="center">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">100ï½199</td>
<td align="center">ä¿¡æ¯æç¤º</td>
</tr>
<tr>
<td align="center">200ï½299</td>
<td align="center">æˆåŠŸ</td>
</tr>
<tr>
<td align="center">300ï½399</td>
<td align="center">é‡å®šå‘</td>
</tr>
<tr>
<td align="center">400ï½499</td>
<td align="center">å®¢æˆ·ç«¯é”™è¯¯</td>
</tr>
<tr>
<td align="center">500ï½599</td>
<td align="center">æœåŠ¡å™¨é”™è¯¯</td>
</tr>
</tbody></table>
<h4 id="1-7-ç½‘ç»œåè®®æ ˆ"><a href="#1-7-ç½‘ç»œåè®®æ ˆ" class="headerlink" title="1.7 ç½‘ç»œåè®®æ ˆ"></a>1.7 ç½‘ç»œåè®®æ ˆ</h4><table>
<thead>
<tr>
<th align="center">HTTP</th>
<th align="center">åº”ç”¨å±‚</th>
</tr>
</thead>
<tbody><tr>
<td align="center">TCP</td>
<td align="center">ä¼ è¾“å±‚</td>
</tr>
<tr>
<td align="center">IP</td>
<td align="center">ç½‘ç»œå±‚</td>
</tr>
<tr>
<td align="center">ç½‘ç»œç‰¹æœ‰çš„é“¾è·¯æ¥å£</td>
<td align="center">æ•°æ®é“¾è·¯å±‚</td>
</tr>
<tr>
<td align="center">ç‰©ç†ç½‘ç»œç¡¬ä»¶</td>
<td align="center">ç‰©ç†å±‚</td>
</tr>
</tbody></table>
<h4 id="1-8-è¿æ¥ã€IPã€ç«¯å£å·"><a href="#1-8-è¿æ¥ã€IPã€ç«¯å£å·" class="headerlink" title="1.8 è¿æ¥ã€IPã€ç«¯å£å·"></a>1.8 è¿æ¥ã€IPã€ç«¯å£å·</h4><p><code>åŸŸå--&gt;(Domain Name Service, DNS)--&gt;IP</code></p>
]]></content>
      <tags>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptä¸­ == è¿ç®—ç¬¦</title>
    <url>/2018/01/08/JavaScript%E4%B8%AD-%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    <content><![CDATA[<h2 id="è§„åˆ™"><a href="#è§„åˆ™" class="headerlink" title="è§„åˆ™"></a>è§„åˆ™</h2><p>åœ¨è½¬æ¢ä¸åŒçš„æ•°æ®ç±»å‹æ—¶ï¼Œç›¸ç­‰å’Œä¸ç›¸ç­‰æ“ä½œç¬¦éµå¾ªä¸‹åˆ—åŸºæœ¬è§„åˆ™ï¼š</p>
<ol>
<li>å¦‚æœæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™åœ¨æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰å…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼â€”â€”falseè½¬æ¢ä¸º0ï¼Œè€Œtrueè½¬æ¢ä¸º1ï¼›</li>
<li>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°æ˜¯æ•°å€¼ï¼Œåœ¨æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼ï¼›</li>
<li>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°ä¸æ˜¯ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„valueOf()æ–¹æ³•ï¼Œç”¨å¾—åˆ°çš„åŸºæœ¬ç±»å‹å€¼æŒ‰ç…§å‰é¢çš„è§„åˆ™è¿›è¡Œæ¯”è¾ƒï¼›</li>
</ol>
<h2 id="Number-å‡½æ•°çš„è½¬æ¢è§„åˆ™å¦‚ä¸‹"><a href="#Number-å‡½æ•°çš„è½¬æ¢è§„åˆ™å¦‚ä¸‹" class="headerlink" title="Number()å‡½æ•°çš„è½¬æ¢è§„åˆ™å¦‚ä¸‹"></a>Number()å‡½æ•°çš„è½¬æ¢è§„åˆ™å¦‚ä¸‹</h2><ol>
<li>å¦‚æœæ˜¯Booleanå€¼ï¼Œtrueå’Œfalseå°†åˆ†åˆ«è¢«è½¬æ¢ä¸º1å’Œ0ã€‚</li>
<li>å¦‚æœæ˜¯æ•°å­—å€¼ï¼Œåªæ˜¯ç®€å•çš„ä¼ å…¥å’Œè¿”å›ã€‚</li>
<li>å¦‚æœæ˜¯nullå€¼ï¼Œè¿”å›0ã€‚</li>
<li>å¦‚æœæ˜¯undefinedï¼Œè¿”å›NaNã€‚</li>
<li>å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œéµå¾ªä¸‹åˆ—è§„åˆ™ï¼š </li>
<li>1 å¦‚æœå­—ç¬¦ä¸²ä¸­åªåŒ…å«æ•°å­—ï¼ˆåŒ…æ‹¬å‰é¢å¸¦åŠ å·æˆ–è´Ÿå·çš„æƒ…å†µï¼‰ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºåè¿›åˆ¶æ•°å€¼ï¼Œ å³â€1â€ä¼šå˜æˆ1ï¼Œâ€123â€ä¼šå˜æˆ123ï¼Œè€Œâ€011â€ä¼šå˜æˆ11ï¼ˆæ³¨æ„ï¼šå‰å¯¼çš„é›¶è¢«å¿½ç•¥äº†ï¼‰ï¼›</li>
<li>2 å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«æœ‰æ•ˆçš„æµ®ç‚¹æ ¼å¼ï¼Œå¦‚â€1.1â€ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºå¯¹åº”çš„æµ®ç‚¹æ•°å€¼ï¼ˆåŒæ ·ï¼Œä¹Ÿä¼šå¿½ç•¥å‰å¯¼é›¶ï¼‰ï¼›</li>
<li>3 å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«æœ‰æ•ˆçš„åå…­è¿›åˆ¶æ ¼å¼ï¼Œä¾‹å¦‚â€0xfâ€ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºç›¸åŒå¤§å°çš„åè¿›åˆ¶æ•´æ•°å€¼ï¼›</li>
<li>4 å¦‚æœå­—ç¬¦ä¸²æ˜¯ç©ºçš„ï¼ˆä¸åŒ…å«ä»»ä½•å­—ç¬¦ï¼‰ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸º0ï¼›</li>
<li>5 å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«é™¤ä¸Šè¿°æ ¼å¼ä¹‹å¤–çš„å­—ç¬¦ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºNaNã€‚</li>
</ol>
<h2 id="ä¾‹å­-â€œtrueâ€-true"><a href="#ä¾‹å­-â€œtrueâ€-true" class="headerlink" title="ä¾‹å­ â€œtrueâ€ == true"></a>ä¾‹å­ â€œtrueâ€ == true</h2><ol>
<li>â€œtrueâ€ == true ç¬¦åˆä¸Šé¢çš„è§„åˆ™1ï¼Œæ‰€ä»¥å¯ä»¥è½¬åŒ–ä¸º â€œtrueâ€ == 1</li>
<li>â€œtrueâ€ == 1 ç¬¦åˆè§„åˆ™2ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦å°† â€œtrueâ€è½¬æ¢ä¸ºæ•°å€¼åå†æ¯”è¾ƒï¼ŒæŠŠ â€œtrueâ€ è½¬æ¢æˆæ•°å€¼æ˜¯ä½¿ç”¨ Number å‡½æ•°ï¼ŒæŒ‰ç…§è§„åˆ™ 5 å’Œè§„åˆ™ 5.5ï¼ŒNumber(â€˜trueâ€™) çš„å€¼ä¸º NaNï¼Œä¹Ÿå°±æ˜¯è¯´ç°åœ¨çš„é—®é¢˜å˜æˆäº†å¯¹ NaN == 1 è¿›è¡Œæ±‚å€¼</li>
</ol>
<blockquote>
<p>NaNä¸ä»»ä½•å€¼éƒ½ä¸ç›¸ç­‰ï¼ŒåŒ…æ‹¬NaNæœ¬èº«ã€‚</p>
</blockquote>
<p>æ‰€ä»¥ ç»“æœä¸ºfalse.</p>
]]></content>
  </entry>
  <entry>
    <title>Gité…ç½®å¤šä¸ªSSH-Key</title>
    <url>/2016/08/26/Git%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AASSH-Key/</url>
    <content><![CDATA[<p>sshæ˜¯ä¸€ç§ç½‘ç»œåè®®ï¼Œå¸¸ç”¨äºè®¡ç®—æœºä¹‹é—´çš„åŠ å¯†ç™»å½•ã€‚åŸç†å¯ä»¥çœ‹é˜®ä¸€å³°è¿™ç¯‡æ–‡ç« ï¼š</p>
<blockquote>
<p><a href="http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html" target="_blank" rel="noopener">SSHåŸç†ä¸è¿ç”¨</a></p>
</blockquote>
<p>æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½å‡ºç°è¿™ç§æƒ…å†µï¼šGithubã€Gitlabã€Codingã€OSChinaç­‰ä¸åŒå¹³å°éƒ½éœ€è¦é…ç½®ssh key.</p>
<h3 id="ç”Ÿæˆssh-keyçš„æ­¥éª¤"><a href="#ç”Ÿæˆssh-keyçš„æ­¥éª¤" class="headerlink" title="ç”Ÿæˆssh keyçš„æ­¥éª¤"></a>ç”Ÿæˆssh keyçš„æ­¥éª¤</h3><hr>
<p>è¿™é‡Œä»¥GitHubä¸ºä¾‹.</p>
<h4 id="1-é…ç½®gitç”¨æˆ·åå’Œå¯†ç "><a href="#1-é…ç½®gitç”¨æˆ·åå’Œå¯†ç " class="headerlink" title="1.é…ç½®gitç”¨æˆ·åå’Œå¯†ç "></a>1.é…ç½®gitç”¨æˆ·åå’Œå¯†ç </h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config user.name &quot;username&quot;</span><br><span class="line">git config user.email &quot;email&quot;</span><br></pre></td></tr></table></figure>
<p>éœ€è¦å…¨å±€è®¾ç½®çš„è¯ï¼Œåœ¨configååŠ ä¸Šâ€“globalå³å¯</p>
<h4 id="2-ç”Ÿæˆssh-key"><a href="#2-ç”Ÿæˆssh-key" class="headerlink" title="2.ç”Ÿæˆssh key"></a>2.ç”Ÿæˆssh key</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;email&quot;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ ¹æ®æç¤ºè¿ç»­å›è½¦å³å¯ç”Ÿæˆ<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>ä¿©ä¸ªæ–‡ä»¶, æ–‡ä»¶è·¯å¾„ä¸º<code>~/.ssh</code>.</p>
<h4 id="3-ä¸Šä¼ keyåˆ°GitHub"><a href="#3-ä¸Šä¼ keyåˆ°GitHub" class="headerlink" title="3.ä¸Šä¼ keyåˆ°GitHub"></a>3.ä¸Šä¼ keyåˆ°GitHub</h4><p>æ‰“å¼€æ–‡ä»¶<code>id_rsa.pu</code>å¤åˆ¶æˆ–è€…ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">clip &lt; ~&#x2F;.ssh&#x2F;id_rsa.pub</span><br></pre></td></tr></table></figure>
<p>ç„¶åæŒ‰ç…§æ“ä½œåœ¨GitHubä¸Šæ·»åŠ è‡ªå·±çš„SSH keyå³å¯ã€‚</p>
<h4 id="4-æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸ"><a href="#4-æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸ" class="headerlink" title="4.æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸ"></a>4.æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p>è‹¥é…ç½®æˆåŠŸï¼Œä¼šæç¤ºï¼š </p>
<blockquote>
<p>Hi XXX! Youâ€™ve successfully authenticated, but GitHub does not provide shell access. </p>
</blockquote>
<h3 id="é…ç½®å¤šä¸ªssh-key"><a href="#é…ç½®å¤šä¸ªssh-key" class="headerlink" title="é…ç½®å¤šä¸ªssh key"></a>é…ç½®å¤šä¸ªssh key</h3><hr>
<blockquote>
<p>é…ç½®å¤šä¸ªssh keyå…³é”®ç‚¹åœ¨äºè®¾ç½®ä¸åŒçš„æ–‡ä»¶å </p>
</blockquote>
<p>ä»¥githubä¸ºä¾‹ï¼Œè®¾å®šæ–‡ä»¶åä¸º<code>id_rsa.github</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -f ~&#x2F;.ssh&#x2F;id_rsa.github -C &quot;email&quot;</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶ï¼Œ<code>~/.ssh</code>ç›®å½•ä¸‹ä¼šç”Ÿæˆä¿©ä¸ªæ–‡ä»¶ï¼š<code>id_rsa.github</code>ã€<code>id_rsa.github.pub</code>.</p>
<h4 id="å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š"><a href="#å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š" class="headerlink" title="å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š"></a>å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</h4><blockquote>
<p>Error: <a href="mailto:git@github.com">git@github.com</a>: Permission denied (publickey).<br>åŸå› ï¼škeyæ²¡åŠ å…¥åˆ°sshåº“é‡Œ</p>
</blockquote>
<p>1.æŸ¥çœ‹å·²ç»æ·»åŠ çš„key</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-add -l</span><br></pre></td></tr></table></figure>
<p>è‹¥ä¸ºç©ºï¼Œåˆ™ä¼šæ˜¾ç¤º The agent has no identities.</p>
<p>2.æ·»åŠ key</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-add ~&#x2F;.ssh&#x2F;id_rsa.github</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ æˆåŠŸï¼Œåˆ™ä¼šæ˜¾ç¤º<br>Identity added: /Users/law/.ssh/id_rsa.github (/Users/law/.ssh/id_rsa.github).</p>
<blockquote>
<p>ä»¥ä¸Šï¼Œå³å®Œæˆäº†ä¸€å°ç”µè„‘ä¸Šå¤šä¸ªssh keyçš„é…ç½®.</p>
</blockquote>
]]></content>
      <tags>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode-ä¿©æ•°ç›¸åŠ </title>
    <url>/2018/04/16/LeetCode-%E4%BF%A9%E6%95%B0%E7%9B%B8%E5%8A%A0/</url>
    <content><![CDATA[<p>ç»™å®šä¸¤ä¸ªéç©ºé“¾è¡¨æ¥è¡¨ç¤ºä¸¤ä¸ªéè´Ÿæ•´æ•°ã€‚ä½æ•°æŒ‰ç…§é€†åºæ–¹å¼å­˜å‚¨ï¼Œå®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªå­˜å‚¨å•ä¸ªæ•°å­—ã€‚å°†ä¸¤æ•°ç›¸åŠ è¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°å­—éƒ½ä¸ä¼šä»¥é›¶å¼€å¤´ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š(<span class="number">2</span> -&gt; <span class="number">4</span> -&gt; <span class="number">3</span>) + (<span class="number">5</span> -&gt; <span class="number">6</span> -&gt; <span class="number">4</span>)</span><br><span class="line">è¾“å‡ºï¼š<span class="number">7</span> -&gt; <span class="number">0</span> -&gt; <span class="number">8</span></span><br><span class="line">åŸå› ï¼š<span class="number">342</span> + <span class="number">465</span> = <span class="number">807</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ€è·¯ï¼š</p>
</blockquote>
<p><img src="https://i.loli.net/2018/07/16/5b4cb89fda705.png" alt="ä¾‹å­"></p>
<p>äºŒå‰æ ‘æ·±åº¦éå†ï¼š ABDECFG<br>æ·±åº¦ä¼˜å…ˆæœç´¢äºŒå‰æ ‘æ˜¯å…ˆè®¿é—®æ ¹ç»“ç‚¹ï¼Œç„¶åéå†å·¦å­æ ‘æ¥ç€æ˜¯éå†å³å­æ ‘ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å †æ ˆçš„<code>å…ˆè¿›åå‡º</code>çš„ç‰¹ç‚¹ï¼Œå…ˆå°†å³å­æ ‘å‹æ ˆï¼Œå†å°†å·¦å­æ ‘å‹æ ˆï¼Œè¿™æ ·å·¦å­æ ‘å°±ä½äºæ ˆé¡¶ï¼Œå¯ä»¥ä¿è¯ç»“ç‚¹çš„å·¦å­æ ‘å…ˆäºå³å­æ ‘è¢«éå†ã€‚ </p>
<p>äºŒå‰æ ‘å¹¿åº¦éå†ï¼šABCDEFG<br>å¹¿åº¦éå†åˆå«<code>å®½åº¦ä¼˜å…ˆæœç´¢</code>æˆ–<code>æ¨ªå‘ä¼˜å…ˆæœç´¢</code>ï¼Œæ˜¯ä»æ ¹ç»“ç‚¹å¼€å§‹æ²¿ç€æ ‘çš„å®½åº¦æœç´¢éå†ï¼Œä¸Šé¢äºŒå‰æ ‘çš„éå†é¡ºåºä¸ºï¼šABCDEFG.</p>
]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>MacOS é…ç½®Apache+php</title>
    <url>/2019/02/15/MacOS-%E9%85%8D%E7%BD%AEApache-php/</url>
    <content><![CDATA[<h3 id="å¸¸ç”¨è·¯å¾„ä»¥åŠå‘½ä»¤"><a href="#å¸¸ç”¨è·¯å¾„ä»¥åŠå‘½ä»¤" class="headerlink" title="å¸¸ç”¨è·¯å¾„ä»¥åŠå‘½ä»¤"></a>å¸¸ç”¨è·¯å¾„ä»¥åŠå‘½ä»¤</h3><blockquote>
<p>Apatche: <code>/etc/apache2</code><br>é…ç½®æ–‡ä»¶: <code>/etc/apache2/httpd.conf</code><br>å¯åŠ¨apatch: <code>$sudo apachectl -k start</code><br>å…³é—­apatch: <code>$sudo apachectl -k stop</code><br>é‡å¯apatch: <code>$sudo apachectl -k restart</code><br>è™šæ‹Ÿæœºé…ç½®æ–‡ä»¶: <code>/etc/apache2/extra/httpd-vhosts.conf</code><br>hostsæ–‡ä»¶: <code>/etc/hosts</code></p>
</blockquote>
<h3 id="é…ç½®Apache"><a href="#é…ç½®Apache" class="headerlink" title="é…ç½®Apache"></a>é…ç½®Apache</h3><ol>
<li><p>åœ¨ <code>/User/ç”¨æˆ·å/</code> ä¸‹æ–°å»ºä¸€ä¸ªSitesæ–‡ä»¶å¤¹<br><img src="https://i.loli.net/2019/02/15/5c6656f260f25.jpeg" alt="773AF0CD-8E81-4E37-A486-9C606F71624D.jpeg"></p>
</li>
<li><p>å¤‡ä»½é…ç½®æ–‡ä»¶</p>
<blockquote>
<p><code>$cd /etc/apache2</code><br><code>$sudo cp httpd.conf httpd.conf.bak</code></p>
</blockquote>
</li>
<li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆæˆ‘è¿™é‡Œæ˜¯ç”¨sublimeæ‰“å¼€ï¼‰</p>
<blockquote>
<p>æœç´¢DocumentRootï¼Œå°†åé¢çš„è·¯å¾„æ”¹ä¸ºä¸€å¼€å§‹åˆ›å»ºçš„Sitesæ–‡ä»¶å¤¹çš„è·¯å¾„<br><img src="https://i.loli.net/2019/02/15/5c66595df2c4a.png" alt="6D6C0D8F-5D58-467A-9765-FC8ED0FE1B98.png"><br>æœç´¢ ServerName<br><img src="https://i.loli.net/2019/02/15/5c665a1ce8a07.png" alt="BA8B0E85-947D-4D17-925D-2858D9E1F0C3.png"><br>æœç´¢phpï¼Œè§£å¼€è¢«å°å°çš„phpæ¨¡å—<br><img src="https://i.loli.net/2019/02/15/5c665d68764dd.png" alt="0F555230-C67F-4476-A668-1D78599362FE.png"><br>åˆ‡æ¢ç›®å½• <code>$cd /etc</code><br>æ‹·è´æ–‡ä»¶ <code>$sudo cp php.ini.default php.ini</code><br>é‡å¯apatch <code>$sudo apachectl -k restart</code></p>
</blockquote>
</li>
</ol>
<p>4.åœ¨Sitesç›®å½•ä¸‹ æ–°å»ºindex.phpæ–‡ä»¶ï¼Œå¹¶å†™å…¥ <code>&lt;?php phpinfo(); ?&gt;</code><br>è‹¥å‡ºç°ä»¥ä¸‹é¡µé¢ï¼Œè¯´æ˜é…ç½®æˆåŠŸ<br><img src="https://i.loli.net/2019/02/15/5c665f604f393.png" alt="3C0AC9F2-73AB-48CE-87F1-B02816ADAB4F.png"></p>
]]></content>
  </entry>
  <entry>
    <title>iOSå¤šçº¿ç¨‹å¼€å‘</title>
    <url>/2016/07/07/iOS%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%BC%80%E5%8F%91/</url>
    <content><![CDATA[<!--[TOC]--> 


<p>å‰è¨€ï¼šå¤šçº¿ç¨‹æŠ€æœ¯åœ¨iOSæ—¥å¸¸å¼€å‘é‡Œå¤„å¤„å¯è§ï¼Œå®ƒä¹Ÿæ˜¯é¢è¯•æ—¶é¢è¯•å®˜çš„åçˆ±ï¼Œä¹‹å‰é¢è¯•æ—¶æ²¡æ³¨æ„è¿™æ–¹é¢çš„æ€»ç»“ï¼Œè¢«é¢è¯•å®˜è™çš„å¾ˆæƒ¨ğŸ˜‚ã€‚ </p>
<h3 id="è¿›ç¨‹å’Œçº¿ç¨‹çš„å®šä¹‰"><a href="#è¿›ç¨‹å’Œçº¿ç¨‹çš„å®šä¹‰" class="headerlink" title="è¿›ç¨‹å’Œçº¿ç¨‹çš„å®šä¹‰"></a>è¿›ç¨‹å’Œçº¿ç¨‹çš„å®šä¹‰</h3><ul>
<li><p>è¿›ç¨‹</p>
<ul>
<li>è¿›ç¨‹æŒ‡çš„æ˜¯æ“ä½œç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªåº”ç”¨ç¨‹åº</li>
<li>è¿›ç¨‹ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œæ¯ä¸ªè¿›ç¨‹å‡è¿è¡Œåœ¨å…¶ä¸“ç”¨ä¸”å—ä¿æŠ¤çš„å†…å­˜ç©ºé—´å†…ï¼Œæ‰€ä»¥ä¸€ä¸ªè¿›ç¨‹å´©æºƒåï¼Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ï¼Œå¯¹å…¶ä»–è¿›ç¨‹ä¸ä¼šäº§ç”Ÿå½±å“</li>
</ul>
</li>
<li><p>çº¿ç¨‹</p>
<ul>
<li>çº¿ç¨‹æ˜¯è¿›ç¨‹çš„åŸºæœ¬æ‰§è¡Œå•å…ƒï¼Œè¿›ç¨‹ä¸­çš„æ‰€æœ‰ä»»åŠ¡éƒ½åœ¨å…¶çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œ</li>
<li>ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€æ¡çº¿ç¨‹</li>
<li>çº¿ç¨‹ä¸­çš„ä»»åŠ¡æ˜¯ä¸²è¡Œæ‰§è¡Œçš„ï¼ˆæŒ‰ç…§é¡ºåºï¼‰ï¼ŒåŒä¸€æ—¶é—´å†…ï¼Œ1ä¸ªçº¿ç¨‹åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡</li>
</ul>
</li>
</ul>
<h3 id="å¤šçº¿ç¨‹çš„å®šä¹‰ã€åŸç†ã€ä¼˜ç¼ºç‚¹"><a href="#å¤šçº¿ç¨‹çš„å®šä¹‰ã€åŸç†ã€ä¼˜ç¼ºç‚¹" class="headerlink" title="å¤šçº¿ç¨‹çš„å®šä¹‰ã€åŸç†ã€ä¼˜ç¼ºç‚¹"></a>å¤šçº¿ç¨‹çš„å®šä¹‰ã€åŸç†ã€ä¼˜ç¼ºç‚¹</h3><ul>
<li><p>å®šä¹‰</p>
<ul>
<li>1ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¼€å¯å¤šæ¡çº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¯ä»¥å¹¶è¡Œï¼ˆåŒæ—¶ï¼‰æ‰§è¡Œä¸åŒçš„ä»»åŠ¡</li>
<li>å¤§å¤§æé«˜äº†ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡</li>
</ul>
</li>
<li><p>åŸç†</p>
<ul>
<li>åŒä¸€æ—¶é—´ï¼ŒCPUåªèƒ½å¤„ç†1æ¡çº¿ç¨‹ï¼Œåªæœ‰1æ¡çº¿ç¨‹åœ¨æ‰§è¡Œ </li>
<li>å¤šçº¿ç¨‹å¹¶å‘ï¼ˆåŒæ—¶ï¼‰æ‰§è¡Œï¼Œå…¶å®æ˜¯CPUå¿«é€Ÿåœ°åœ¨å¤šæ¡çº¿ç¨‹ä¹‹é—´è°ƒåº¦ï¼ˆåˆ‡æ¢ï¼‰</li>
<li>å¦‚æœCPUè°ƒåº¦çº¿ç¨‹è¶³å¤Ÿå¿«ï¼Œå°±é€ æˆäº†å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„å‡è±¡</li>
</ul>
</li>
<li><p>ä¼˜ç‚¹</p>
<ul>
<li>èƒ½é€‚å½“æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡</li>
<li>èƒ½é€‚å½“æé«˜èµ„æºåˆ©ç”¨ç‡ï¼ˆCPUã€å†…å­˜åˆ©ç”¨ç‡ï¼‰</li>
</ul>
</li>
<li><p>ç¼ºç‚¹</p>
<ul>
<li>å¼€å¯çº¿ç¨‹éœ€è¦å ç”¨ä¸€å®šçš„å†…å­˜ç©ºé—´ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸»çº¿ç¨‹å ç”¨1Mï¼Œå­çº¿ç¨‹å ç”¨512KBï¼‰ï¼Œå¦‚æœåŒæ—¶å¼€å¯å¤§é‡çš„çº¿ç¨‹ï¼Œä¼šå ç”¨å¤§é‡çš„å†…å­˜ç©ºé—´ï¼Œé™ä½ç¨‹åºçš„æ€§èƒ½</li>
<li>çº¿ç¨‹è¶Šå¤šï¼ŒCPUåœ¨è°ƒåº¦çº¿ç¨‹ä¸Šçš„å¼€é”€å°±è¶Šå¤§</li>
<li>é€ æˆç¨‹åºè®¾è®¡æ›´åŠ å¤æ‚ï¼šæ¯”å¦‚çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ã€å¤šçº¿ç¨‹çš„æ•°æ®å…±äº«</li>
</ul>
</li>
</ul>
<h3 id="ä¸»çº¿ç¨‹çš„å®šä¹‰ã€ä½œç”¨ã€ä½¿ç”¨æ³¨æ„"><a href="#ä¸»çº¿ç¨‹çš„å®šä¹‰ã€ä½œç”¨ã€ä½¿ç”¨æ³¨æ„" class="headerlink" title="ä¸»çº¿ç¨‹çš„å®šä¹‰ã€ä½œç”¨ã€ä½¿ç”¨æ³¨æ„"></a>ä¸»çº¿ç¨‹çš„å®šä¹‰ã€ä½œç”¨ã€ä½¿ç”¨æ³¨æ„</h3><ul>
<li><p>å®šä¹‰</p>
<ul>
<li>ä¸€ä¸ªiOSç¨‹åºè¿è¡Œåï¼Œé»˜è®¤å¼€å¯1æ¡çº¿ç¨‹ï¼Œç§°ä¸ºâ€œä¸»çº¿ç¨‹â€</li>
</ul>
</li>
<li><p>ä½œç”¨</p>
<ul>
<li>æ˜¾ç¤º\åˆ·æ–°UIç•Œé¢</li>
<li>å¤„ç†UIäº‹ä»¶ï¼ˆç‚¹å‡»ã€æ»šåŠ¨ã€æ‹–æ‹½äº‹ä»¶ç­‰ï¼‰</li>
</ul>
</li>
<li><p>ä½¿ç”¨æ³¨æ„</p>
<ul>
<li>åˆ«å°†è€—æ—¶æ“ä½œæ”¾åœ¨ä¸»çº¿ç¨‹ï¼Œè€—æ—¶æ“ä½œä¼šå¡ä½ä¸»çº¿ç¨‹ï¼Œå½±å“UIçš„æµç•…åº¦</li>
</ul>
</li>
</ul>
<h3 id="å¤šçº¿ç¨‹çš„å®‰å…¨éšæ‚£"><a href="#å¤šçº¿ç¨‹çš„å®‰å…¨éšæ‚£" class="headerlink" title="å¤šçº¿ç¨‹çš„å®‰å…¨éšæ‚£"></a>å¤šçº¿ç¨‹çš„å®‰å…¨éšæ‚£</h3><ul>
<li><p>å®‰å…¨éšæ‚£</p>
<ul>
<li>å¤šä¸ªçº¿ç¨‹å¯èƒ½ä¼šåŒæ—¶è®¿é—®åŒä¸€å—èµ„æºï¼ˆä¾‹å¦‚åŒä¸€ä¸ªå¯¹è±¡ã€å˜é‡ã€æ–‡ä»¶ï¼‰ï¼Œå¾ˆå®¹æ˜“å¼•å‘æ•°æ®é”™ä¹±å’Œæ•°æ®å®‰å…¨é—®é¢˜</li>
</ul>
</li>
<li><p>è§£å†³æ–¹æ³•</p>
<ul>
<li>äº’æ–¥é” @synchronized(é”å¯¹è±¡){éœ€è¦é”å®šçš„ä»£ç }</li>
<li>åŸç†ï¼šçº¿ç¨‹åŒæ­¥ï¼ˆå¤šæ¡çº¿ç¨‹åœ¨åŒä¸€æ¡çº¿ä¸ŠæŒ‰é¡ºåºçš„æ‰§è¡Œä»»åŠ¡ï¼‰</li>
</ul>
</li>
<li><p>äº’æ–¥é”æ³¨æ„äº‹é¡¹</p>
<ul>
<li>ä½¿ç”¨å‰æï¼šå¤šæ¡çº¿ç¨‹åŒæ—¶æŠ¢å¤ºåŒä¸€å—èµ„æº</li>
<li>é”å¯¹è±¡å¿…é¡»å”¯ä¸€ï¼ˆåŒä¸€æŠŠé”ï¼‰,æ‰€ä»¥ä¸€èˆ¬ç”¨self</li>
<li>åŠ é”éœ€è¦è€—è´¹å¤§é‡CPUèµ„æº</li>
</ul>
</li>
<li><p>atomic ä¸€å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ  </p>
<ul>
<li>ä½¿ç”¨atomicï¼ˆåŸå­æ“ä½œï¼‰ï¼Œç³»ç»Ÿä¼šä¸ºsetæ–¹æ³•åŠ é”</li>
<li>å¹¶ä¸èƒ½ä¿è¯ç»å¯¹çš„çº¿ç¨‹å®‰å…¨ï¼Œå¦‚æœéœ€è¦ç»å¯¹ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œè¿˜éœ€è¦ä½¿ç”¨æ›´é«˜çº§çš„æ–¹å¼æ¥å¤„ç†ï¼Œæ¯”å¦‚NSSpinLockã€@synchronizedç­‰</li>
<li>nonatomic:éçº¿ç¨‹å®‰å…¨ï¼Œé€‚åˆå†…å­˜è¾ƒå°çš„ç§»åŠ¨è®¾å¤‡ </li>
</ul>
</li>
</ul>
<h3 id="çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡"><a href="#çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡" class="headerlink" title="çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡"></a>çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡</h3><ul>
<li><p>æ¦‚å¿µ</p>
<ul>
<li>ä¸€ä¸ªçº¿ç¨‹ä¼ é€’æ•°æ®ç»™å¦ä¸€ä¸ªçº¿ç¨‹</li>
<li>ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œç‰¹å®šä»»åŠ¡åï¼Œè½¬åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ç»§ç»­æ‰§è¡Œä»»åŠ¡</li>
</ul>
</li>
<li><p>å¸¸ç”¨æ–¹æ³•</p>
</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="comment">// perform...</span></span><br><span class="line">- (<span class="keyword">void</span>)performSelectorOnMainThread:(SEL)aSelector withObject:(<span class="keyword">id</span>)arg waitUntilDone:(<span class="built_in">BOOL</span>)wait;</span><br><span class="line">- (<span class="keyword">void</span>)performSelector:(SEL)aSelector onThread:(<span class="built_in">NSThread</span> *)thread withObject:(<span class="keyword">id</span>)arg waitUntilDone:(<span class="built_in">BOOL</span>)wait;</span><br><span class="line"></span><br><span class="line"><span class="comment">// GCD</span></span><br><span class="line"><span class="built_in">dispatch_async</span>(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="number">0</span>), ^&#123;</span><br><span class="line">   <span class="comment">// æ‰§è¡Œè€—æ—¶çš„å¼‚æ­¥æ“ä½œ...  </span></span><br><span class="line">   <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">       <span class="comment">// å›åˆ°ä¸»çº¿ç¨‹ï¼Œæ‰§è¡ŒUIåˆ·æ–°æ“ä½œ</span></span><br><span class="line">   &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// NSOperation</span></span><br><span class="line">[[[<span class="built_in">NSOperationQueue</span> alloc] init] addOperationWithBlock:^&#123;</span><br><span class="line">    <span class="comment">// æ‰§è¡Œçš„æ“ä½œ</span></span><br><span class="line">    [[<span class="built_in">NSOperationQueue</span> mainQueue] addOperationWithBlock:^&#123;</span><br><span class="line">       <span class="comment">// å›åˆ°ä¸»çº¿ç¨‹ç»§ç»­æ“ä½œ</span></span><br><span class="line">    &#125;];</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>

<h3 id="iOSä¸­å¤šçº¿ç¨‹çš„å››ç§æ–¹æ¡ˆ"><a href="#iOSä¸­å¤šçº¿ç¨‹çš„å››ç§æ–¹æ¡ˆ" class="headerlink" title="iOSä¸­å¤šçº¿ç¨‹çš„å››ç§æ–¹æ¡ˆ"></a>iOSä¸­å¤šçº¿ç¨‹çš„å››ç§æ–¹æ¡ˆ</h3><p><img src="https://i.loli.net/2018/07/08/5b420ac9e6642.png" alt="iOSä¸­å¤šçº¿ç¨‹çš„å››ç§æ–¹æ¡ˆ"></p>
<h4 id="NSThread"><a href="#NSThread" class="headerlink" title="NSThread"></a>NSThread</h4><figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>åˆ›å»ºå’Œå¯åŠ¨çº¿ç¨‹çš„<span class="number">3</span>ç§æ–¹å¼</span><br><span class="line"><span class="number">1</span>&gt; å…ˆåˆ›å»ºï¼Œåå¯åŠ¨</span><br><span class="line"><span class="comment">// åˆ›å»º</span></span><br><span class="line"><span class="built_in">NSThread</span> *thread = [[<span class="built_in">NSThread</span> alloc] initWithTarget:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(download:) object:<span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// å¯åŠ¨</span></span><br><span class="line">[thread start];</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>&gt; åˆ›å»ºå®Œè‡ªåŠ¨å¯åŠ¨</span><br><span class="line">[<span class="built_in">NSThread</span> detachNewThreadSelector:<span class="keyword">@selector</span>(download:) toTarget:<span class="keyword">self</span> withObject:<span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>&gt; éšå¼åˆ›å»ºï¼ˆè‡ªåŠ¨å¯åŠ¨ï¼‰</span><br><span class="line">[<span class="keyword">self</span> performSelectorInBackground:<span class="keyword">@selector</span>(download:) withObject:<span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>å¸¸è§æ–¹æ³•</span><br><span class="line"><span class="number">1</span>&gt; è·å¾—å½“å‰çº¿ç¨‹</span><br><span class="line">+ (<span class="built_in">NSThread</span> *)currentThread;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>&gt; è·å¾—ä¸»çº¿ç¨‹</span><br><span class="line">+ (<span class="built_in">NSThread</span> *)mainThread;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>&gt; ç¡çœ ï¼ˆæš‚åœï¼‰çº¿ç¨‹</span><br><span class="line">+ (<span class="keyword">void</span>)sleepUntilDate:(<span class="built_in">NSDate</span> *)date;</span><br><span class="line">+ (<span class="keyword">void</span>)sleepForTimeInterval:(<span class="built_in">NSTimeInterval</span>)ti;</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>&gt; è®¾ç½®\è·å–çº¿ç¨‹çš„åå­—</span><br><span class="line">- (<span class="keyword">void</span>)setName:(<span class="built_in">NSString</span> *)name;</span><br><span class="line">- (<span class="built_in">NSString</span> *)name;</span><br></pre></td></tr></table></figure>

<h4 id="GCD"><a href="#GCD" class="headerlink" title="GCD"></a>GCD</h4><ul>
<li><p>ä»€ä¹ˆæ˜¯GCD</p>
<ul>
<li>å…¨ç§°æ˜¯ Grand Central Dispatch ï¼ˆNBçš„ä¸­æ¢è°ƒåº¦å™¨ï¼‰</li>
<li>çº¯Cè¯­è¨€ï¼Œæä¾›äº†éå¸¸å¤šå¼ºå¤§çš„å‡½æ•°</li>
<li>ä»»åŠ¡éµå¾ªFIFOåŸåˆ™(å…ˆè¿›å…ˆå‡º)</li>
<li>æ‰€æœ‰APIéƒ½åœ¨<code>libdispatch.dylib</code>é‡Œï¼ŒXcodeä¼šè‡ªåŠ¨å¯¼å…¥è¿™ä¸ªåº“</li>
</ul>
</li>
<li><p>GCDçš„ä¼˜åŠ¿</p>
<ul>
<li>GCDæ˜¯è‹¹æœå…¬å¸ä¸ºå¤šæ ¸çš„å¹¶è¡Œè¿ç®—æå‡ºçš„è§£å†³æ–¹æ¡ˆ</li>
<li>GCDä¼šè‡ªåŠ¨åˆ©ç”¨æ›´å¤šçš„CPUå†…æ ¸</li>
<li>GCDä¼šè‡ªåŠ¨ç®¡ç†çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»ºã€è°ƒåº¦ã€é”€æ¯ï¼‰</li>
<li>ç¨‹åºå‘˜åªéœ€è¦å‘Šè¯‰GCDæƒ³è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¸ç”¨ç¼–å†™ä»»ä½•çº¿ç¨‹ç®¡ç†ä»£ç </li>
</ul>
</li>
<li><p>é˜Ÿåˆ—å’Œä»»åŠ¡</p>
<ul>
<li>ä»»åŠ¡ï¼šéœ€è¦æ‰§è¡Œçš„æ“ä½œï¼ˆç”¨blockå°è£…ï¼‰</li>
<li>é˜Ÿåˆ—ï¼šå­˜æ”¾ä»»åŠ¡ï¼ˆåˆ†ä¸º å¹¶å‘é˜Ÿåˆ— å’Œ ä¸²è¡Œé˜Ÿåˆ—ï¼‰dispatch_queue_t </li>
</ul>
</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>å…¨å±€é˜Ÿåˆ—ï¼ˆå¹¶å‘é˜Ÿåˆ—ï¼‰</span><br><span class="line">dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>åˆ›å»ºé˜Ÿåˆ—ï¼ˆä¸²è¡Œé˜Ÿåˆ—ï¼‰ </span><br><span class="line">dispatch_queue_create(<span class="string">"queueName"</span>, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>åˆ›å»ºé˜Ÿåˆ—ï¼ˆå¹¶è¡Œé˜Ÿåˆ—ï¼‰ </span><br><span class="line"><span class="built_in">dispatch_queue_t</span> concurrentQueue = dispatch_queue_create(<span class="string">@"concurrent"</span>, DISPATCH_QUEUE_CONCURRENT);</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>ä¸»é˜Ÿåˆ—ï¼ˆè®©ä»»åŠ¡åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼‰</span><br><span class="line">dispatch_get_main_queue();</span><br></pre></td></tr></table></figure>

<ul>
<li>GCDçš„ä½¿ç”¨<ul>
<li>å®šåˆ¶ä»»åŠ¡ï¼ˆç¡®å®šæƒ³åšçš„äº‹æƒ…ï¼‰</li>
<li>å°†ä»»åŠ¡æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼ˆGCDä¼šè‡ªåŠ¨å°†é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡å–å‡ºï¼Œæ”¾åˆ°å¯¹åº”çš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼‰</li>
</ul>
</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">ä¸€.æ‰§è¡Œä»»åŠ¡çš„å‡½æ•°</span><br><span class="line"><span class="number">1.</span>åŒæ­¥æ‰§è¡Œï¼ˆä¸å…·å¤‡å¼€å¯æ–°çº¿ç¨‹çš„èƒ½åŠ›ï¼‰</span><br><span class="line"><span class="built_in">dispatch_sync</span>...</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>å¼‚æ­¥æ‰§è¡Œï¼ˆå…·å¤‡å¼€å¯æ–°çº¿ç¨‹çš„èƒ½åŠ›ï¼‰</span><br><span class="line"><span class="built_in">dispatch_async</span>...</span><br><span class="line"></span><br><span class="line">äºŒ.å»¶è¿Ÿæ‰§è¡Œ</span><br><span class="line"><span class="number">1.</span>perform...</span><br><span class="line">[<span class="keyword">self</span> performSelector:<span class="keyword">@selector</span>(download:) withObject:<span class="string">@"http://1.jpg"</span> afterDelay:<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>dispatch_after...</span><br><span class="line">dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(<span class="number">5</span> * <span class="built_in">NSEC_PER_SEC</span>)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        <span class="comment">// 5ç§’åæ‰§è¡Œ</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ä¸‰.ä¸€æ¬¡æ€§æ‰§è¡Œ</span><br><span class="line"><span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</span><br><span class="line"><span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œé¢çš„ä»£ç ï¼Œåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ°¸è¿œåªä¼šæ‰§è¡Œ1æ¬¡</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">å››.é˜Ÿåˆ—ç»„ ï¼ˆdispatch_group_tï¼‰</span><br><span class="line">dispatch_group_t group =  dispatch_group_create();</span><br><span class="line">dispatch_group_async(group, dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="number">0</span>), ^&#123;</span><br><span class="line">    <span class="comment">// ç¬¬1ä¸ªè€—æ—¶çš„å¼‚æ­¥æ“ä½œ</span></span><br><span class="line">&#125;);</span><br><span class="line">dispatch_group_async(group, dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="number">0</span>), ^&#123;</span><br><span class="line">    <span class="comment">// ç¬¬2ä¸ªè€—æ—¶çš„å¼‚æ­¥æ“ä½œ</span></span><br><span class="line">&#125;);</span><br><span class="line">dispatch_group_notify(group, dispatch_get_main_queue(), ^&#123;</span><br><span class="line">    <span class="comment">// ç­‰å‰é¢çš„2ä¸ªå¼‚æ­¥æ“ä½œéƒ½æ‰§è¡Œå®Œæ¯•åï¼Œå›åˆ°ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œ</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="NSOperation"><a href="#NSOperation" class="headerlink" title="NSOperation"></a>NSOperation</h4><ul>
<li><p>é…åˆä½¿ç”¨<code>NSOperation</code>å’Œ<code>NSOperationQueue</code>å¯ä»¥å®ç°å¤šçº¿ç¨‹ç¼–ç¨‹</p>
</li>
<li><p>ä½¿ç”¨æ­¥éª¤ï¼š</p>
<ul>
<li>å…ˆå°†éœ€è¦æ‰§è¡Œçš„æ“ä½œå°è£…åˆ°ä¸€ä¸ªNSOperationå¯¹è±¡ä¸­</li>
<li>ç„¶åå°†NSOperationå¯¹è±¡æ·»åŠ åˆ°NSOperationQueueä¸­</li>
<li>ç³»ç»Ÿä¼šè‡ªåŠ¨å°†NSOperationQueueä¸­çš„NSOperationå–å‡ºæ¥</li>
<li>å°†å–å‡ºçš„NSOperationå°è£…çš„æ“ä½œæ”¾åˆ°ä¸€æ¡æ–°çº¿ç¨‹ä¸­æ‰§è¡Œ  </li>
</ul>
</li>
<li><p>NSOperationæ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œå¹¶ä¸å…·å¤‡å°è£…æ“ä½œçš„èƒ½åŠ›ï¼Œå¿…é¡»ä½¿ç”¨å®ƒçš„å­ç±»</p>
<ul>
<li>NSInvocationOperation</li>
<li>NSBlockOperation</li>
<li>è‡ªå®šä¹‰NSOperation<ul>
<li>ç»§æ‰¿äºNSOperationï¼Œé‡å†™mainæ–¹æ³•ï¼Œåœ¨mainæ–¹æ³•é‡Œå®ç°æƒ³è¦æ‰§è¡Œçš„ä»»åŠ¡</li>
<li>åˆ›å»ºè‡ªåŠ¨é‡Šæ”¾æ± ï¼ˆå¦‚æœæ˜¯å¼‚æ­¥æ“ä½œï¼Œæ— æ³•è®¿é—®ä¸»çº¿ç¨‹çš„è‡ªåŠ¨é‡Šæ”¾æ± ï¼‰</li>
<li>é€šè¿‡- (BOOL)isCancelledæ£€æµ‹æ“ä½œæ˜¯å¦è¢«å–æ¶ˆï¼Œå¯¹å–æ¶ˆä½œå‡ºå“åº”</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">å¸¸ç”¨æ–¹æ³•æ€»ç»“ï¼š</span><br><span class="line"></span><br><span class="line">ä¸€.NSOperation </span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>æ“ä½œçš„ç›‘å¬</span><br><span class="line"><span class="comment">// å¯ä»¥ç›‘å¬ä¸€ä¸ªæ“ä½œçš„æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">- (<span class="keyword">void</span> (^)(<span class="keyword">void</span>))completionBlock;</span><br><span class="line">- (<span class="keyword">void</span>)setCompletionBlock:(<span class="keyword">void</span> (^)(<span class="keyword">void</span>))block; </span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>æ“ä½œä¼˜å…ˆçº§</span><br><span class="line"><span class="comment">// è®¾ç½®NSOperationåœ¨queueä¸­çš„ä¼˜å…ˆçº§ï¼Œå¯ä»¥æ”¹å˜æ“ä½œçš„æ‰§è¡Œä¼˜å…ˆçº§</span></span><br><span class="line">- (<span class="built_in">NSOperationQueuePriority</span>)queuePriority;</span><br><span class="line">- (<span class="keyword">void</span>)setQueuePriority:(<span class="built_in">NSOperationQueuePriority</span>)p;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼˜å…ˆçº§çš„æšä¸¾</span></span><br><span class="line"><span class="built_in">NSOperationQueuePriorityVeryLow</span> = <span class="number">-8</span>L,</span><br><span class="line"><span class="built_in">NSOperationQueuePriorityLow</span> = <span class="number">-4</span>L,</span><br><span class="line"><span class="built_in">NSOperationQueuePriorityNormal</span> = <span class="number">0</span>,</span><br><span class="line"><span class="built_in">NSOperationQueuePriorityHigh</span> = <span class="number">4</span>,</span><br><span class="line"><span class="built_in">NSOperationQueuePriorityVeryHigh</span> = <span class="number">8</span>  </span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>è®¾ç½®ä¾èµ–</span><br><span class="line"><span class="comment">// NSOperationä¹‹é—´å¯ä»¥è®¾ç½®ä¾èµ–æ¥ä¿è¯æ‰§è¡Œé¡ºåº</span></span><br><span class="line"><span class="comment">// æ¯”å¦‚ä¸€å®šè¦è®©æ“ä½œAæ‰§è¡Œå®Œåï¼Œæ‰èƒ½æ‰§è¡Œæ“ä½œBï¼Œå¯ä»¥è¿™ä¹ˆå†™</span></span><br><span class="line">[operationB addDependency:operationA]; <span class="comment">// æ“ä½œBä¾èµ–äºæ“ä½œA </span></span><br><span class="line"><span class="comment">// æ³¨ï¼šå¯ä»¥åœ¨ä¸åŒqueueçš„NSOperationä¹‹é—´åˆ›å»ºä¾èµ–å…³ç³» </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">äºŒ.NSInvocationOperation</span><br><span class="line"><span class="comment">// å…ˆåˆ›å»ºå¯¹è±¡ï¼Œç„¶åstartï¼Œé»˜è®¤æ˜¯åœ¨å½“å‰çº¿ç¨‹åŒæ­¥æ‰§è¡Œ</span></span><br><span class="line">- (<span class="keyword">id</span>)initWithTarget:(<span class="keyword">id</span>)target selector:(SEL)sel object:(<span class="keyword">id</span>)arg;</span><br><span class="line">- (<span class="keyword">void</span>)start;  </span><br><span class="line">    </span><br><span class="line">ä¸‰.NSBlockOperation</span><br><span class="line"><span class="comment">// å¦‚æœåªæœ‰ä¸€ä¸ªä»»åŠ¡ï¼Œåˆ™ä¼šåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œåªæœ‰ä»»åŠ¡æ•°é‡&gt;1çš„æ—¶å€™ï¼Œä¼šå¼‚æ­¥æ‰§è¡Œæ“ä½œ </span></span><br><span class="line">+ (<span class="keyword">id</span>)blockOperationWithBlock:(<span class="keyword">void</span> (^)(<span class="keyword">void</span>))block; </span><br><span class="line"><span class="comment">// æ·»åŠ æ›´å¤šçš„æ“ä½œ</span></span><br><span class="line">- (<span class="keyword">void</span>)addExecutionBlock:(<span class="keyword">void</span> (^)(<span class="keyword">void</span>))block;   </span><br><span class="line"></span><br><span class="line">å››.NSOperationQueue</span><br><span class="line">    </span><br><span class="line"><span class="number">1.</span>ä¸»é˜Ÿåˆ—ï¼ˆåœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼‰</span><br><span class="line">[<span class="built_in">NSOperationQueue</span> mainQueue]</span><br><span class="line">    </span><br><span class="line"><span class="number">2.</span>éä¸»é˜Ÿåˆ—ï¼ˆåœ¨å­çº¿ç¨‹ä¸­æ‰§è¡Œï¼‰</span><br><span class="line">[[<span class="built_in">NSOperationQueue</span> alloc] init];</span><br><span class="line">    </span><br><span class="line"><span class="number">3.</span>æ·»åŠ æ“ä½œåˆ°<span class="built_in">NSOperationQueue</span>ä¸­</span><br><span class="line">- (<span class="keyword">void</span>)addOperation:(<span class="built_in">NSOperation</span> *)op;</span><br><span class="line">- (<span class="keyword">void</span>)addOperationWithBlock:(<span class="keyword">void</span> (^)(<span class="keyword">void</span>))block;</span><br><span class="line">    </span><br><span class="line"><span class="number">4.</span>è®¾ç½®æœ€å¤§å¹¶å‘æ•° </span><br><span class="line">- (<span class="built_in">NSInteger</span>)maxConcurrentOperationCount;</span><br><span class="line">- (<span class="keyword">void</span>)setMaxConcurrentOperationCount:(<span class="built_in">NSInteger</span>)count;</span><br><span class="line">    </span><br><span class="line"><span class="number">5.</span>é˜Ÿåˆ—çš„å–æ¶ˆã€æš‚åœã€æ¢å¤</span><br><span class="line"><span class="comment">// å–æ¶ˆé˜Ÿåˆ—çš„æ‰€æœ‰æ“ä½œ</span></span><br><span class="line">- (<span class="keyword">void</span>)cancelAllOperations;</span><br><span class="line"><span class="comment">// å–æ¶ˆå•ä¸ªæ“ä½œ</span></span><br><span class="line">è°ƒç”¨<span class="built_in">NSOperation</span>çš„- (<span class="keyword">void</span>)cancelæ–¹æ³• </span><br><span class="line"><span class="comment">// æš‚åœå’Œæ¢å¤é˜Ÿåˆ—</span></span><br><span class="line">- (<span class="keyword">void</span>)setSuspended:(<span class="built_in">BOOL</span>)b; <span class="comment">// YESä»£è¡¨æš‚åœé˜Ÿåˆ—ï¼ŒNOä»£è¡¨æ¢å¤é˜Ÿåˆ—</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)isSuspended;</span><br></pre></td></tr></table></figure>


]]></content>
      <tags>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Objective-Cä¸­çš„åè®®ä¸åˆ†ç±»</title>
    <url>/2016/08/15/Objective-C%E4%B8%AD%E7%9A%84%E5%8D%8F%E8%AE%AE%E4%B8%8E%E5%88%86%E7%B1%BB/</url>
    <content><![CDATA[<p>åè®®ä¸åˆ†ç±»</p>
<a id="more"></a>

<h2 id="protocol"><a href="#protocol" class="headerlink" title="protocol"></a>protocol</h2><p>å› ä¸ºocå¹¶ä¸æ”¯æŒå¤šé‡ç»§æ‰¿,æ‰€ä»¥æˆ‘ä»¬æŠŠæŸä¸€ä¸ªç±»åº”è¯¥å®ç°çš„ä¸€ç³»åˆ—æ–¹æ³•å®šä¹‰åœ¨åè®®é‡Œé¢.åè®®æœ€ä¸ºå¸¸è§çš„ç”¨é€”æ˜¯å®ç°å§”æ‰˜æ¨¡å¼</p>
<h2 id="category"><a href="#category" class="headerlink" title="category"></a>category</h2><p>åˆ©ç”¨åˆ†ç±»æœºåˆ¶,æˆ‘ä»¬æ— é¡»ç»§æ‰¿å­ç±»å³å¯ç›´æ¥ä¸ºå½“å‰ç±»æ·»åŠ æ–¹æ³•</p>
<blockquote>
<p>åœ¨ä¿¡æ¯æºæ¨¡å¼ä¸­,ä¿¡æ¯ä»æ•°æ®æºæµå‘ç±»,è€Œåœ¨æ™®é€šçš„å§”æ‰˜æ¨¡å¼ä¸­,ä¿¡æ¯åˆ™ä»ç±»æµå‘å—å§”æ‰˜è€….</p>
</blockquote>
<h2 id="åè®®å®ä¾‹"><a href="#åè®®å®ä¾‹" class="headerlink" title="åè®®å®ä¾‹"></a>åè®®å®ä¾‹</h2><figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">RuanNetworkFetcher</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">RuanNetworkFetcherDelegate</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@optional</span></span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)networkFetcher:(RuanNetworkFetcher *)fetcher didReceiveData:(<span class="built_in">NSData</span> *)data;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)networkFetcher:(RuanNetworkFetcher *)fetcher didFailWithError:(<span class="built_in">NSError</span> *)error;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RuanNetworkFetcher</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆ–è€…ä½¿ç”¨ unsafe_unretained</span></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">weak</span>)<span class="keyword">id</span>&lt;RuanNetworkFetcherDelegate&gt;delegate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„æ­¤å¤„ä¹‹æ‰€ä»¥ä½¿ç”¨weakè€Œä¸æ˜¯strongï¼Œæ˜¯å› ä¸ºä¸¤è€…ä¹‹é—´å¿…é¡»ä¸º<code>éæ‹¥æœ‰å…³ç³»</code>.é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‰®æ¼”delegateçš„é‚£ä¸ªå¯¹è±¡ä¹Ÿè¦æŒæœ‰æœ¬å¯¹è±¡ï¼Œç›´åˆ°ç”¨å®Œæœ¬å¯¹è±¡ä¹‹å,æ‰ä¼šé‡Šæ”¾.å‡å¦‚å£°æ˜å±æ€§çš„æ—¶å€™ä½¿ç”¨strongå°†æœ¬å¯¹è±¡ä¸å§”æ‰˜å¯¹è±¡ä¹‹é—´å®šä½<code>æ‹¥æœ‰å…³ç³»</code>é‚£ä¹ˆå°±ä¼šå¼•å…¥â€ä¿ç•™ç¯â€.</p>
</blockquote>
<blockquote>
<p>å¦‚æœè¦åœ¨å§”æ‰˜å¯¹è±¡ä¸Šè°ƒç”¨å¯é€‰æ–¹æ³•,é‚£ä¹ˆå¿…é¡»æå‰ä½¿ç”¨ç±»å‹æŸ¥è¯¢æ–¹æ³•,åˆ¤æ–­è¿™ä¸ªå—å§”æ‰˜å¯¹è±¡æ˜¯å¦èƒ½å“åº”ç›¸å…³æ–¹æ³•</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> ([<span class="keyword">self</span>.delegate respondsToSelector:<span class="keyword">@selector</span>(networkFetcher:didReceiveData:)]) &#123;</span><br><span class="line">      </span><br><span class="line">      [<span class="keyword">self</span>.delegate networkFetcher:<span class="keyword">self</span> didReceiveData:[<span class="built_in">NSData</span> data]];</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨è°ƒç”¨delegateå¯¹è±¡ä¸­çš„æ–¹æ³•æ—¶ï¼Œæ€»æ˜¯åº”è¯¥æŠŠå‘èµ·å§”æ‰˜çš„å®ä¾‹ä¹Ÿä¸€å¹¶ä¼ å…¥æ–¹æ³•ä¸­ï¼Œè¿™æ ·delegateå¯¹è±¡åœ¨å®ç°ç›¸å…³æ–¹æ³•æ—¶ï¼Œå°±èƒ½æ ¹æ®ä¼ å…¥çš„å®ä¾‹åˆ†åˆ«æ‰§è¡Œä¸åŒçš„ä»£ç äº†.</p>
</blockquote>
<blockquote>
<p>å¦å¤–,åœ¨å®ç°å§”æ‰˜æ¨¡å¼ä¸æ•°æ®æºæ¨¡å¼æ—¶ï¼Œå¦‚æœåè®®ä¸­çš„æ–¹æ³•æ˜¯å¯é€‰çš„ï¼Œé‚£ä¹ˆå°±ä¼šå†™å‡ºä¸€å¤§æ‰¹ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„ä»£ç æ¥ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> ([<span class="keyword">self</span>.delegate respondsToSelector:<span class="keyword">@selector</span>(networkFetcher:shouldFollowRedirectToUrl:)]) &#123;</span><br><span class="line">       </span><br><span class="line">       [<span class="keyword">self</span>.delegate networkFetcher:<span class="keyword">self</span> shouldFollowRedirectToUrl:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"......"</span>]];</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è§£å†³æ€è·¯:æˆ‘ä»¬å¯ä»¥æŠŠå§”æ‰˜å¯¹è±¡èƒ½å¦å“åº”æŸä¸ªåè®®æ–¹æ³•è¿™ä¸€ä¿¡æ¯ç¼“å­˜èµ·æ¥ï¼Œä»¥æ­¤ä¼˜åŒ–ç¨‹åºæ•ˆç‡.<ul>
<li>å°†æ–¹æ³•å“åº”èƒ½åŠ›ç¼“å­˜èµ·æ¥çš„æœ€ä½³é€”å¾„å°±æ˜¯å®ç”¨<code>ä½æ®µ(åˆç§° ä½åŸŸ)</code>æ•°æ®ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥æŠŠç»“æ„ä½“ä¸­æŸä¸ªå­—æ®µæ‰€å ç”¨çš„äºŒè¿›åˆ¶ä½ä¸ªæ•°è®¾ä¸ºç‰¹å®šçš„å€¼.ä»£ç å¦‚ä¸‹</li>
</ul>
</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="comment">//class extension</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RuanNetworkFetcher</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">struct</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> didReceiveData : <span class="number">1</span>; <span class="comment">//1 è¡¨ç¤º 0 å’Œ 1 å¦‚æœæ˜¯8çš„è¯ é‚£ä¹ˆè¿™ä¸ªå­—æ®µå¯ä»¥è¡¨ç¤º0~255ä¹‹é—´çš„å€¼</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> didFailWithError : <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> didUpdateProgroessTO : <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">&#125; _delegateFlags;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å®ç°ç¼“å­˜æ–¹æ³•å“åº”èƒ½åŠ›çš„ä»£ç </p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é‡å†™setteræ–¹æ³•</span></span><br><span class="line">-(<span class="keyword">void</span>)setDelegate:(<span class="keyword">id</span>&lt;RuanNetworkFetcherDelegate&gt;)delegate</span><br><span class="line">&#123;</span><br><span class="line">    _delegate = delegate;</span><br><span class="line">    </span><br><span class="line">    _delegateFlags.didReceiveData = [delegate respondsToSelector:<span class="keyword">@selector</span>(networkFetcher:didReceiveData:)];</span><br><span class="line">    </span><br><span class="line">    _delegateFlags.didFailWithError = [delegate respondsToSelector:<span class="keyword">@selector</span>(networkFetcher:didFailWithError:)];</span><br><span class="line">    </span><br><span class="line">    _delegateFlags.didUpdateProgroessTO = [delegate respondsToSelector:<span class="keyword">@selector</span>(networkFetcher:uploadProgress:)];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸‹æ¬¡è°ƒç”¨ä»£ç†çš„ç›¸å…³æ–¹æ³•çš„æ—¶å€™ï¼Œå¯ä»¥è¿™æ ·å†™</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (_delegateFlags.didUpdateProgroessTO) &#123;</span><br><span class="line">      </span><br><span class="line">      [<span class="keyword">self</span>.delegate networkFetcher:<span class="keyword">self</span> didReceiveData:<span class="literal">nil</span>];</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™æ ·çš„è¯,æ¯æ¬¡è°ƒç”¨delegateçš„ç›¸å…³æ–¹æ³•ä¹‹å‰ï¼Œå°±ä¸ç”¨æ£€æµ‹å§”æ‰˜å¯¹è±¡æ˜¯å¦èƒ½å¤Ÿå“åº”ç»™å®šçš„é€‰æ‹©å­äº†,è€Œæ˜¯ç›´æ¥æŸ¥è¯¢ç»“æ„ä½“é‡Œçš„æ ‡å¿—.</p>
</blockquote>
<h2 id="å°†ç±»çš„å®ç°ä»£ç åˆ†æ•£åˆ°ä¾¿äºç®¡ç†çš„åˆ†ç±»å½“ä¸­å»"><a href="#å°†ç±»çš„å®ç°ä»£ç åˆ†æ•£åˆ°ä¾¿äºç®¡ç†çš„åˆ†ç±»å½“ä¸­å»" class="headerlink" title="å°†ç±»çš„å®ç°ä»£ç åˆ†æ•£åˆ°ä¾¿äºç®¡ç†çš„åˆ†ç±»å½“ä¸­å»"></a>å°†ç±»çš„å®ç°ä»£ç åˆ†æ•£åˆ°ä¾¿äºç®¡ç†çš„åˆ†ç±»å½“ä¸­å»</h2><blockquote>
<p>ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªPersonç±»</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RuanPerson</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**å§“*/</span></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">NSString</span> * firstName;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**å*/</span></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">NSString</span> * lastName;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**Friends*/</span></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">NSMutableArray</span> * friends;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-(<span class="keyword">instancetype</span>)initWithFirstName:(<span class="built_in">NSString</span> *)firstName withLastName:(<span class="built_in">NSString</span> *)lastName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"><span class="comment">/**æœ‹å‹å…³ç³»åˆ†ç±»*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RuanPerson</span> (<span class="title">memberShip</span>)</span></span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)addFriend:(RuanPerson *)person;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è€Œç±»çš„å®ç°æ˜¯è¿™æ ·çš„</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line">-(<span class="built_in">NSMutableArray</span> *)friends</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!_friends) &#123;</span><br><span class="line">        </span><br><span class="line">        _friends = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> _friends;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-(<span class="keyword">instancetype</span>)initWithFirstName:(<span class="built_in">NSString</span> *)firstName withLastName:(<span class="built_in">NSString</span> *)lastName</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">self</span>.firstName = firstName;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">self</span>.lastName = lastName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„è¿™ä¸ªæ˜¯åˆ†ç±»çš„å®ç°æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RuanPerson</span> (<span class="title">memberShip</span>)</span></span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)addFriend:(RuanPerson *)person</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.friends addObject:person];</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ€»ç»“<br>ä½¿ç”¨åˆ†ç±»æœºåˆ¶å,ä¾ç„¶å¯ä»¥æŠŠè¿™ä¸ªç±»éƒ½å®šä¹‰åœ¨ä¸€ä¸ªæ¥å£æ–‡ä»¶ä¸­ï¼Œå¹¶å°†å…¶ä»£ç å†™åœ¨ä¸€ä¸ªå®ç°æ–‡ä»¶é‡Œ.å¯æ˜¯,éšç€åˆ†<br>ç±»æ•°é‡å¢åŠ ï¼Œå½“å‰è¿™ä»½å®ç°æ–‡ä»¶å¾ˆå¿«å°±è†¨èƒ€çš„æ— æ³•ç®¡ç†äº†.æ­¤æ—¶,å¯ä»¥æŠŠæ¯ä¸ªåˆ†ç±»æå–åˆ°å„è‡ªçš„æ–‡ä»¶ä¸­å».<br>å‘ç¬¬ä¸‰æ–¹ç±»ä¸­æ·»åŠ åˆ†ç±»æ—¶,æ€»åº”ç»™å…¶åç§°åŠ ä¸Šä½ ä¸“ç”¨çš„å‰ç¼€<br>å‘ç¬¬ä¸‰æ–¹ç±»ä¸­æ·»åŠ åˆ†ç±»æ—¶,æ€»åº”ç»™å…¶ä¸­çš„æ–¹æ³•ååŠ ä¸Šä½ ä¸“ç”¨çš„å‰ç¼€.</p>
</blockquote>
<h2 id="ä½¿ç”¨â€class-continuationåˆ†ç±»â€-éšè—å®ç°ç»†èŠ‚"><a href="#ä½¿ç”¨â€class-continuationåˆ†ç±»â€-éšè—å®ç°ç»†èŠ‚" class="headerlink" title="ä½¿ç”¨â€class-continuationåˆ†ç±»â€ éšè—å®ç°ç»†èŠ‚"></a>ä½¿ç”¨â€class-continuationåˆ†ç±»â€ éšè—å®ç°ç»†èŠ‚</h2><blockquote>
<p>å’Œæ™®é€šçš„åˆ†ç±»ä¸åŒ,å®ƒå¿…é¡»å®šä¹‰åœ¨å…¶æ‰€æŒç»­çš„é‚£ä¸ªç±»çš„å®ç°æ–‡ä»¶é‡Œ.å…¶é‡è¦ä¹‹å¤„åœ¨äº,è¿™æ˜¯å”¯ä¸€èƒ½å£°æ˜å®ä¾‹å˜é‡çš„åˆ†ç±»,è€Œä¸”æ­¤åˆ†ç±»æ²¡æœ‰ç‰¹å®šçš„å®ç°æ–‡ä»¶,å…¶ä¸­çš„æ–¹æ³•éƒ½åº”è¯¥å®šä¹‰åœ¨ç±»çš„å®ç°æ–‡ä»¶é‡Œ.ä¸å…¶å®ƒåˆ†ç±»ä¸åŒ,â€class-continuationâ€åˆ†ç±»æ²¡æœ‰åå­—.</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span>()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>é—®:ä¸ºä»€ä¹ˆéœ€è¦è¿™ç§æœºåˆ¶?<br>ç­”:å› ä¸ºå…¶ä¸­å¯ä»¥å®šä¹‰æ–¹æ³•å’Œå®ä¾‹å˜é‡.<br>é—®:ä¸ºä»€ä¹ˆèƒ½å¤Ÿåœ¨å…¶ä¸­å®šä¹‰æ–¹æ³•å’Œå®ä¾‹å˜é‡?<br>ç­”:å› ä¸ºç¨³å›ºçš„<code>ABI</code>æœºåˆ¶.</p>
</blockquote>
<ul>
<li>å®ä¾‹å˜é‡ä¹Ÿå¯ä»¥å®šä¹‰åœ¨å®ç°å—é‡Œï¼Œä»è¯­æ³•ä¸Šæ¥è®²,è¿™ä¸ç›´æ¥æ·»åŠ åˆ°<code>class-continuation</code>åˆ†ç±»ç­‰æ•ˆ.<ul>
<li>like this</li>
</ul>
</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span></span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">NSString</span> * _7jname;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
      <tags>
        <tag>oc_protocol</tag>
        <tag>oc_category</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸ç”¨æ’åºç®—æ³•</title>
    <url>/2016/10/03/%E5%B8%B8%E7%94%A8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h3 id="åŸºæœ¬æ¦‚å¿µï¼š"><a href="#åŸºæœ¬æ¦‚å¿µï¼š" class="headerlink" title="åŸºæœ¬æ¦‚å¿µï¼š"></a>åŸºæœ¬æ¦‚å¿µï¼š</h3><ol>
<li><p>æ—¶é—´å¤æ‚åº¦</p>
<ul>
<li><p>åŒä¸€ä¸ªç®—æ³•ç”¨ä¸åŒçš„è¯­è¨€å®ç°ï¼Œæˆ–è€…ç”¨ä¸åŒçš„ç¼–è¯‘ç¨‹åºè¿›è¡Œç¼–è¯‘ï¼Œæˆ–è€…åœ¨ä¸åŒçš„è®¡ç®—æœºä¸Šè¿è¡Œæ—¶ï¼Œæ•ˆç‡éƒ½è‚¯å®šä¸åŒã€‚è¿™è¡¨æ˜ä½¿ç”¨ç»å¯¹çš„æ—¶é—´å•ä½è¡¡é‡ç®—æ³•çš„æ•ˆç‡æ˜¯ä¸åˆé€‚çš„ã€‚æ’‡å¼€è¿™äº›ä¸è®¡ç®—æœºè½¯ç¡¬ä»¶æœ‰å…³çš„å› ç´ ï¼Œå¯ä»¥è®¤ä¸ºä¸€ä¸ªç‰¹å®šçš„ç®—æ³•<code>è¿è¡Œå·¥ä½œé‡</code>çš„å¤§å°ï¼Œåªä¾èµ–äº<code>é—®é¢˜çš„è§„æ¨¡</code>ï¼ˆé€šå¸¸ç”¨næ¥è¡¨ç¤ºï¼‰ï¼Œæˆ–è€…è¯´å®ƒæ˜¯<code>é—®é¢˜è§„æ¨¡n</code>çš„å‡½æ•°ã€‚</p>
</li>
<li><p>ç®—æ³•ç”± <code>æ§åˆ¶ç»“æ„ï¼ˆé¡ºåºã€åˆ†æ”¯å’Œå¾ªç¯ï¼‰</code>+<code>åŸæ“ä½œï¼ˆæ•°æ®ç±»å‹å›ºæœ‰çš„æ“ä½œï¼‰</code> æ„æˆï¼Œåˆ™ç®—æ³•æ—¶é—´å–å†³äºä¸¤è€…çš„ç»¼åˆæ•ˆæœã€‚é€šå¸¸ä¼šé€‰å–ä¸€ç§å¯¹äºæ‰€ç ”ç©¶çš„é—®é¢˜æ¥è¯´æ˜¯åŸºæœ¬æ“ä½œçš„åŸæ“ä½œï¼Œä»¥è¯¥åŸæ“ä½œé‡å¤æ‰§è¡Œçš„æ¬¡æ•°ä½œä¸ºç®—æ³•çš„æ—¶é—´é‡åº¦ã€‚</p>
</li>
<li><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç®—æ³•ä¸­çš„åŸºæœ¬æ“ä½œé‡å¤æ‰§è¡Œæ¬¡æ•°æ˜¯é—®é¢˜è§„æ¨¡nçš„æŸä¸ªå‡½æ•°f(n)ï¼Œç®—æ³•çš„æ—¶é—´é‡åº¦è®°ä½œï¼š<code>T(n)=O(f(n))</code>  ç§°ä½œç®—æ³•çš„<code>æ¸è¿‘æ—¶é—´å¤æ‚åº¦</code>(asymptotic time complexity)ï¼Œç®€ç§°ä¸º<code>æ—¶é—´å¤æ‚åº¦</code>ã€‚</p>
</li>
</ul>
</li>
<li><p>ç¬¦å·<code>O</code>(Big O notation)</p>
<ul>
<li>æ˜¯ç”¨äºæè¿°å‡½æ•°æ¸è¿›è¡Œä¸ºçš„æ•°å­¦ç¬¦å·ã€‚</li>
<li>æˆ‘ä»¬é€šå¸¸ç”¨ <code>T(n) = O(f(n))</code>æ¥è¡¨ç¤ºä¸€ä¸ªè®¡ç®—æœºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚</li>
<li>è‹¥æ— ç‰¹æ®Šè¯´æ˜ä¸€èˆ¬æŒ‡çš„æ˜¯æœ€åæ—¶é—´å¤æ‚åº¦ï¼Œä¸€èˆ¬ä¸å»è®¨è®ºæœ€å¥½æ—¶é—´å¤æ‚åº¦ï¼Œæ²¡ä»€ä¹ˆæ„ä¹‰ã€‚</li>
</ul>
</li>
</ol>
<h3 id="å¸¸ç”¨æ’åºç®—æ³•"><a href="#å¸¸ç”¨æ’åºç®—æ³•" class="headerlink" title="å¸¸ç”¨æ’åºç®—æ³•"></a>å¸¸ç”¨æ’åºç®—æ³•</h3><p>å…ˆå®šä¹‰ä¸€ä¸ªswapå‡½æ•°ï¼Œç”¨ä»¥äº¤æ¢a,bçš„å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">void swap(int *x, int *y) &#123;</span><br><span class="line">    int tmp &#x3D; *x;</span><br><span class="line">    *x &#x3D; *y;</span><br><span class="line">    *y &#x3D; tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-é€‰æ‹©æ’åº"><a href="#1-é€‰æ‹©æ’åº" class="headerlink" title="1.é€‰æ‹©æ’åº"></a>1.é€‰æ‹©æ’åº</h4><ul>
<li>æ€æƒ³ï¼šé¦–å…ˆé€‰å‡ºæœ€å°çš„æ•°æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œç„¶åé€‰æ‹©ç¬¬äºŒå°çš„æ•°æ”¾åœ¨ç¬¬äºŒä½ï¼Œä»¥æ­¤å†…æ¨ï¼Œç›´åˆ°æ‰€æœ‰çš„æ•°ä»å°åˆ°å¤§æ’åºã€‚é‚£ä¹ˆï¼Œå¯¹äºå¤§å°ä¸º<code>n</code>çš„æ•°ç»„ï¼Œéœ€è¦<code>n-1</code>è½®é€‰æ‹©è¿‡ç¨‹ï¼Œç¬¬<code>i</code>è½®é€‰æ‹©ç¬¬<code>i</code>å°çš„æ•°ï¼Œæ”¾åœ¨ç¬¬<code>i</code>ä¸ªä½ç½®ä¸Šã€‚</li>
<li>ç¨³å®šæ€§ï¼šä¸ç¨³å®šã€‚</li>
<li>å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š<code>O(n^2)</code></li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<code>O(1)</code></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">select_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ€»å…±éœ€è¦n-1è½®é€‰æ‹©,içš„å–å€¼ä¸º[0ï¼Œn-2]</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n<span class="number">-1</span>; i++)&#123;</span><br><span class="line">        <span class="comment">//è®°å½•ç¬¬iå°çš„æ•°æ‰€åœ¨çš„ç´¢å¼•</span></span><br><span class="line">        <span class="keyword">int</span> min_index = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j] &lt; arr[min_index])&#123;</span><br><span class="line">                min_index = j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//æ ¹æ®è®°å½•çš„ç¬¬iå°çš„æ•°çš„ç´¢å¼•ï¼Œæ‰¾åˆ°äº†ç¬¬iå°çš„æ•°ã€‚ç„¶åå°†è¯¥æ•°æ”¾åˆ°å…¶æ­£ç¡®ä½ç½®ã€‚ä¹Ÿå°±æ˜¯ç¬¬iä¸ªä½ç½®ã€‚</span></span><br><span class="line">            <span class="keyword">if</span>(i != min_index)&#123;</span><br><span class="line">                swap(arr[i], arr[min_index]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-å†’æ³¡æ’åº"><a href="#2-å†’æ³¡æ’åº" class="headerlink" title="2.å†’æ³¡æ’åº"></a>2.å†’æ³¡æ’åº</h4><ul>
<li>æ€æƒ³ï¼šä¸æ–­çš„æ¯”è¾ƒç›¸é‚»çš„ä¿©ä¸ªæ•°ï¼Œè®©è¾ƒå¤§çš„æ•°ä¸æ–­çš„å¾€åç§»åŠ¨ï¼Œç¬¬ä¸€è½®æ¯”è¾ƒå®Œæˆåå°±é€‰å‡ºäº†æœ€å¤§çš„æ•°ï¼Œç¬¬äºŒè½®æ¯”è¾ƒå®Œæˆåå°±é€‰å‡ºäº†æ¬¡å¤§çš„æ•°ã€‚ä»¥æ­¤ç±»æ¨ï¼Œå¯¹äºå¤§å°ä¸º<code>n</code>çš„æ•°ç»„ï¼Œæ€»å…±éœ€è¦<code>n-1</code>è½®æ¯”è¾ƒã€‚</li>
<li>ç¨³å®šæ€§ï¼šç¨³å®šã€‚</li>
<li>å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š<code>O(n^2)</code></li>
<li>æœ€å¥½æƒ…å†µ<code>O(n)</code></li>
<li>æœ€åæƒ…å†µ<code>O(n^2)</code></li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<code>O(1)</code></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubble_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> n)</span> </span>&#123; </span><br><span class="line">    <span class="comment">// æ€»å…±éœ€è¦n-1è½®æ¯”è¾ƒï¼Œiçš„å–å€¼ä¸º[0, n-2]</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n<span class="number">-1</span>; i++)&#123;</span><br><span class="line">        <span class="comment">// nä¸ªæ•°éœ€è¦n-1æ¬¡æ¯”è¾ƒï¼Œå‰é¢iä¸ªæ•°å·²ç»æ’å¥½åºï¼Œä¸éœ€è¦å‚ä¸æ¯”è¾ƒ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n-i<span class="number">-1</span>; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">                swap(arr[j], arr[j+<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-å¿«é€Ÿæ’åº"><a href="#3-å¿«é€Ÿæ’åº" class="headerlink" title="3.å¿«é€Ÿæ’åº"></a>3.å¿«é€Ÿæ’åº</h4><ul>
<li>æ€æƒ³ï¼šåˆ†è€Œæ²»ä¹‹ã€‚é€‰å–ä¸€ä¸ªåŸºå‡†æ•°ï¼ˆä¸€èˆ¬æˆ‘ä»¬é€‰æ‹©æ•°ç»„çš„ç¬¬ä¸€ä½æˆ–è€…æœ€åä¸€ä½ï¼‰ï¼Œç„¶åå°†æ¯”åŸºå‡†æ•°å°çš„æ”¾åœ¨å…¶å·¦è¾¹ï¼Œæ¯”åŸºå‡†æ•°å¤§çš„æ”¾åœ¨å³è¾¹ï¼Œè¿™æ ·å°±å¾—åˆ°äº†ä¿©ä¸ªæ•°ç»„ï¼Œç„¶åé‡å¤æ‰§è¡Œä»¥ä¸Šæ“ä½œã€‚ </li>
<li>ç¨³å®šæ€§ï¼šä¸ç¨³å®šã€‚</li>
<li>å¹³å‡æ—¶é—´å¤æ‚åº¦<code>O(nlog(n))</code></li>
<li>æœ€å¥½æƒ…å†µ<code>O(nlog(n))</code>:æ¯æ¬¡é€‰å–çš„åŸºå‡†å…ƒç´ éƒ½æ˜¯ä¸­ä½æ•°ï¼Œæ¯æ¬¡éƒ½åˆ’åˆ†å‡ºä¸¤ä¸ªåˆ†åŒºï¼Œéœ€è¦è¿›è¡Œlognæ¬¡é€’å½’ï¼Œæ•…æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚</li>
<li>æœ€åæƒ…å†µ<code>O(n^2)</code>:æ¯æ¬¡é€‰å–çš„åŸºå‡†å…ƒç´ éƒ½ä¸ºæœ€å¤§ï¼ˆæˆ–æœ€å°å…ƒç´ ï¼‰å¯¼è‡´æ¯æ¬¡åªåˆ’åˆ†äº†ä¸€ä¸ªåˆ†åŒºï¼Œéœ€è¦è¿›è¡Œn-1æ¬¡åˆ’åˆ†æ‰èƒ½ç»“æŸé€’å½’ï¼Œæ•…å¤æ‚åº¦ä¸ºO(n^2)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦<code>O(nlog(n))</code></li>
<li>åˆ†æï¼šå½“æ•°ç»„å…ƒç´ åŸºæœ¬æœ‰åºæ—¶ï¼Œå¿«é€Ÿæ’åºå°†æ²¡æœ‰ä»»ä½•ä¼˜åŠ¿ï¼ŒåŸºæœ¬é€€åŒ–ä¸ºå†’æ³¡æ’åºï¼Œå¯åœ¨é€‰å–åŸºå‡†å…ƒç´ æ—¶é€‰å–ä¸­é—´å€¼è¿›è¡Œä¼˜åŒ–ã€‚ </li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quick_sort</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> key, i, j, temp;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(left&gt;right)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    key = a[left];</span><br><span class="line">    i = left;</span><br><span class="line">    j = right;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(i != j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//ä»å³è¾¹å¼€å§‹æ‰¾ï¼Œé¡ºåºå¾ˆé‡è¦ï¼</span></span><br><span class="line">        <span class="keyword">while</span>(a[j] &gt;= key &amp;&amp; i &lt; j)</span><br><span class="line">            j--;</span><br><span class="line">        <span class="comment">//å†ä»å·¦è¾¹å¼€å§‹æ‰¾</span></span><br><span class="line">        <span class="keyword">while</span>(a[i] &lt;= key &amp;&amp; i &lt; j)</span><br><span class="line">            i++;</span><br><span class="line">        <span class="comment">//äº¤æ¢ä¿©ä¸ªæ•°åœ¨æ•°ç»„çš„ä½ç½®</span></span><br><span class="line">        <span class="keyword">if</span>(i&lt;j)</span><br><span class="line">        &#123;</span><br><span class="line">            temp = a[i];</span><br><span class="line">            a[i] = a[j];</span><br><span class="line">            a[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†åŸºå‡†æ•°å½’ä½</span></span><br><span class="line">    a[left] = a[i];</span><br><span class="line">    a[i] = key;</span><br><span class="line"></span><br><span class="line">    quick_sort(a, left, i<span class="number">-1</span>); <span class="comment">// é€’å½’å¤„ç†å·¦è¾¹çš„éƒ¨åˆ†</span></span><br><span class="line">    quick_sort(a, i+<span class="number">1</span>, right); <span class="comment">// é€’å½’å¤„ç†å³è¾¹çš„éƒ¨åˆ†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-æ’å…¥æ’åº"><a href="#4-æ’å…¥æ’åº" class="headerlink" title="4.æ’å…¥æ’åº"></a>4.æ’å…¥æ’åº</h4><ul>
<li>æ€æƒ³ï¼šå’Œäº¤æ¢æ’åºä¸åŒçš„æ˜¯å®ƒä¸ç”¨è¿›è¡Œäº¤æ¢æ“ä½œï¼Œè€Œæ˜¯ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡å­˜å‚¨å½“å‰å€¼ã€‚å½“å‰é¢çš„å…ƒç´ æ¯”åé¢å¤§æ—¶ï¼Œå…ˆæŠŠåé¢çš„å…ƒç´ å­˜å…¥ä¸´æ—¶å˜é‡ï¼Œå‰é¢å…ƒç´ çš„å€¼æ”¾åˆ°åé¢å…ƒç´ ä½ç½®ï¼Œå†åˆ°æœ€åæŠŠå…¶å€¼æ’å…¥åˆ°åˆé€‚çš„æ•°ç»„ä½ç½®ã€‚</li>
<li>å¹³å‡æ—¶é—´å¤æ‚åº¦<code>O(n^2)</code></li>
<li>æœ€å¥½æ—¶é—´å¤æ‚åº¦<code>O(n)</code></li>
<li>æœ€åæ—¶é—´å¤æ‚åº¦<code>O(n^2)</code></li>
<li>ç©ºé—´å¤æ‚åº¦<code>O(1)</code></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert_sort</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">   <span class="comment">//éœ€è¦n-1è¶Ÿæ’åº</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">       <span class="keyword">int</span> j = i - <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">if</span> (a[i] &lt; a[j]) &#123;</span><br><span class="line">           tmp = a[i];</span><br><span class="line">           a[i] = a[j];</span><br><span class="line">           <span class="keyword">while</span> (tmp &lt; a[j<span class="number">-1</span>]) &#123;</span><br><span class="line">               a[j] = a[j<span class="number">-1</span>];</span><br><span class="line">               j--;</span><br><span class="line">           &#125;</span><br><span class="line">           a[j] = tmp;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°ä¸€æ¬¡ä½¿ç”¨ReactiveCocoaçš„å°é—®é¢˜</title>
    <url>/2018/07/26/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8ReactiveCocoa%E7%9A%84%E5%B0%8F%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>è§£é™¤Chromeéhttpsæ‘„åƒå¤´ã€å®šä½ç­‰é™åˆ¶</title>
    <url>/2019/02/22/%E8%A7%A3%E9%99%A4Chrome%E9%9D%9Ehttps%E6%91%84%E5%83%8F%E5%A4%B4%E3%80%81%E5%AE%9A%E4%BD%8D%E7%AD%89%E9%99%90%E5%88%B6/</url>
    <content><![CDATA[<h2 id="Google"><a href="#Google" class="headerlink" title="Google"></a>Google</h2><p>2018å¹´2æœˆ8æ—¥ï¼Œè°·æ­Œå®‰å…¨åšå®¢å‘å¸ƒå…¬å‘Šï¼šä»2018å¹´7æœˆChrome 68ç‰ˆæœ¬å¼€å§‹ï¼Œå°†æ‰€æœ‰HTTPé¡µé¢æ ‡è®°â€œä¸å®‰å…¨â€ã€‚</p>
<h2 id="Reason"><a href="#Reason" class="headerlink" title="Reason"></a>Reason</h2><p>é¡¹ç›®ä¸­é‡åˆ°ä¸€ä¸ªè§†é¢‘ä¼šè¯éœ€æ±‚ï¼Œéœ€è¦ç”¨åˆ°è…¾è®¯äº‘çš„å°ç¨‹åºç›´æ’­SDKï¼Œå®˜æ–¹æ–‡æ¡£ç»™çš„ã€æ¼”ç¤ºå°ç¨‹åºå’Œ Chrome æµè§ˆå™¨çš„äº’é€šèƒ½åŠ›ã€‘çš„demoï¼Œæµ‹è¯•æ—¶å‘ç°ç½‘é¡µ<code>http://img.qcloud.com</code>ä¸ºéhttpsçš„ï¼Œå¯¼è‡´chromeé™åˆ¶ç½‘é¡µçš„æ‘„åƒå¤´ã€éº¦å…‹é£ç­‰åŠŸèƒ½ã€‚</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h4 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h4><ul>
<li>åˆ›å»ºè„šæœ¬ <code>$ touch chromeAuth.sh</code>, ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">host&#x3D;$1</span><br><span class="line">if [ $2 ]; then</span><br><span class="line">port&#x3D;&quot;:$2&quot;</span><br><span class="line">fi</span><br><span class="line">cd &quot;&#x2F;Applications&#x2F;Google Chrome.app&#x2F;Contents&#x2F;MacOS&#x2F;&quot;</span><br><span class="line">if [ ! -f &quot;Google.real&quot; ]; then </span><br><span class="line">mv &quot;Google Chrome&quot; &quot;Google.real&quot;</span><br><span class="line">fi </span><br><span class="line">printf &#39;#!&#x2F;bin&#x2F;bash\ncd &quot;&#x2F;Applications&#x2F;Google Chrome.app&#x2F;Contents&#x2F;MacOS&quot;\n&quot;&#x2F;Applications&#x2F;Google Chrome.app&#x2F;Contents&#x2F;MacOS&#x2F;Google.real&quot; --unsafely-treat-insecure-origin-as-secure&#x3D;&quot;http:&#x2F;&#x2F;&#39;&quot;$&#123;host&#125;$&#123;port&#125;&quot;&#39;&quot; --user-data-dir&#x3D;&#x2F;var&#x2F;tmp &quot;$@&quot;\n&#39; &gt; &#39;Google Chrome&#39;</span><br><span class="line">chmod 777 &quot;Google Chrome&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿è¡Œè„šæœ¬ <code>$sudo bash chromeAuth.sh ip port</code> (http://ä¸ç”¨åŠ )<br>ä¾‹å¦‚ï¼š<code>$sudo bash chromeAuth.sh img.qcloud.com 80</code></li>
<li>é‡å¯Chromeï¼Œé‡æ–°é”®å…¥åœ°å€ï¼Œå‘ç°å¯ä»¥è·å–æ‘„åƒå¤´ã€éº¦å…‹é£ã€å®šä½ç­‰æƒé™äº†<br><img src="https://i.loli.net/2019/02/22/5c6fa25c58b9f.png" alt="WeChatea857f1ea474b20ffa9c7d3fa1e3d5e2.png"></li>
<li>ä¸Šè¿°æ“ä½œä¹‹åChromeå¦‚åŒæ–°å®‰è£…çš„ï¼Œä¼šæ¸…é™¤ä¸€åˆ‡æ•°æ®ï¼Œæ¢å¤æ–¹æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; 1.æ‰“å¼€ç»ˆç«¯ï¼Œåˆ‡æ¢ç›®å½•ï¼š</span><br><span class="line">$ cd &#x2F;Applications&#x2F;Google Chrome.app&#x2F;Contents&#x2F;MacOS&#x2F;</span><br><span class="line">&#x2F;&#x2F; 2.é‡æ–°å‘½å&#96;Google Chrome&#96;</span><br><span class="line">$ mv &quot;Google Chrome&quot; &quot;Google Chrome.back&quot;</span><br><span class="line">&#x2F;&#x2F; 3.é‡æ–°å‘½å&#96;Google.real&#96;</span><br><span class="line">$ mv &quot;Google.real&quot; &quot;Google Chrome&quot;</span><br><span class="line">&#x2F;&#x2F; 4.é‡å¯Chrome</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title>é“¾è¡¨å’ŒäºŒå‰æ ‘</title>
    <url>/2017/03/30/%E9%93%BE%E8%A1%A8%E5%92%8C%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é“¾è¡¨ï¼ŸäºŒå‰æ ‘ï¼Ÿæˆ‘æ˜¯è°ï¼Ÿæˆ‘åœ¨å“ªï¼Ÿæˆ‘è¦åšä»€ä¹ˆï¼Ÿ</p>
<h2 id="é“¾è¡¨æ˜¯ä»€ä¹ˆ"><a href="#é“¾è¡¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="é“¾è¡¨æ˜¯ä»€ä¹ˆ"></a>é“¾è¡¨æ˜¯ä»€ä¹ˆ</h2><h4 id="1-ä¼˜ç‚¹"><a href="#1-ä¼˜ç‚¹" class="headerlink" title="1.ä¼˜ç‚¹"></a>1.ä¼˜ç‚¹</h4><pre><code>* è§£å†³äº†æ•°ç»„å…ƒç´ ä¸ªæ•°æ— æ³•æ”¹å˜çš„é™åˆ¶.
* æ•°ç»„ç§»åŠ¨å…ƒç´ çš„è¿‡ç¨‹ä¸­ï¼Œè¦å¯¹å…ƒç´ è¿›è¡Œå¤§èŒƒå›´çš„ç§»åŠ¨ï¼Œè€—æ—¶ä¸”æ•ˆç‡ä½.</code></pre><h4 id="2-åŸºæœ¬ç»“æ„"><a href="#2-åŸºæœ¬ç»“æ„" class="headerlink" title="2.åŸºæœ¬ç»“æ„"></a>2.åŸºæœ¬ç»“æ„</h4><p><img src="https://i.loli.net/2018/07/30/5b5eaabe38d91.png" alt="é“¾è¡¨.png"></p>
<p>ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼š </p>
<ul>
<li>é“¾è¡¨å°±æ˜¯å¤šä¸ªæŒ‡é’ˆè¿æ¥çš„å¤šä¸ªç»“æ„ä½“ã€‚</li>
<li>é“¾è¡¨çš„åŸºæœ¬æ„æˆï¼šå¤´æŒ‡é’ˆ(Header) + è‹¥å¹²ä¸ªèŠ‚ç‚¹(èŠ‚ç‚¹åŒ…æ‹¬äº†æ•°æ®åŸŸå’ŒæŒ‡é’ˆåŸŸ)ã€‚å¤´æŒ‡é’ˆæŒ‡å‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸­çš„æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä¾æ¬¡æŒ‡åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹è¦æŒ‡å‘NULLã€‚</li>
</ul>
<h5 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h5><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">listNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data; <span class="comment">// æ•°æ®åŸŸï¼Œç”¨äºå‚¨å­˜æ•°æ®</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">listNode</span> *<span class="title">next</span>;</span> <span class="comment">// æŒ‡é’ˆåŸŸï¼Œç”¨æ¥è®¿é—®èŠ‚ç‚¹æ•°æ®ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹"><a href="#åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹" class="headerlink" title="åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹"></a>åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹</h5><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">listNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data; <span class="comment">// æ•°æ®åŸŸï¼Œç”¨äºå‚¨å­˜æ•°æ®</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">listNode</span> *<span class="title">next</span>;</span> <span class="comment">// æŒ‡é’ˆåŸŸï¼Œç”¨æ¥è®¿é—®èŠ‚ç‚¹æ•°æ®ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">listNode</span> <span class="title">singleNode</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="function">singleNode *<span class="title">create_single_node</span><span class="params">(<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹å¹¶åˆ†é…ç©ºé—´</span></span><br><span class="line">    singleNode *node = <span class="literal">NULL</span>;</span><br><span class="line">    node = (singleNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(singleNode));</span><br><span class="line">    <span class="keyword">if</span>(node == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"malloc failure!\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ¸…ç†ä¸€ä¸‹</span></span><br><span class="line">    <span class="built_in">memset</span>(node,<span class="number">0</span>,<span class="keyword">sizeof</span>(singleNode));</span><br><span class="line">    <span class="comment">// æŒ‡å®šå€¼ï¼Œå¹¶ä¸”è®©nextæŒ‡é’ˆæŒ‡å‘NULL</span></span><br><span class="line">    node-&gt;data = data;</span><br><span class="line">    node-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    int data &#x3D; 1000;</span><br><span class="line">    singleNode *node &#x3D; create_single_node(data); &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ </span><br><span class="line">    printf(&quot;node-&gt;data &#x3D; %d\n&quot;, node-&gt;data);</span><br><span class="line">    printf(&quot;node-&gt;next &#x3D; %d\n&quot;, node-&gt;next);</span><br><span class="line">    free(node);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰§è¡Œç»“æœï¼š<br>node-&gt;data = 100<br>node-&gt;next = 0</p>
</blockquote>
<h5 id="ç”¨swiftå®ç°"><a href="#ç”¨swiftå®ç°" class="headerlink" title="ç”¨swiftå®ç°"></a>ç”¨swiftå®ç°</h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> val: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> next: <span class="type">ListNode?</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> val: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.val = val</span><br><span class="line">        <span class="keyword">self</span>.next = <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> head: <span class="type">ListNode?</span></span><br><span class="line">    <span class="keyword">var</span> tail: <span class="type">ListNode?</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å°¾æ’æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">appendToTail</span><span class="params">(<span class="number">_</span> val: Int)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> tail == <span class="literal">nil</span> &#123;</span><br><span class="line">            tail = <span class="type">ListNode</span>(val)</span><br><span class="line">            head = tail</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tail?.next = <span class="type">ListNode</span>(val)</span><br><span class="line">            tail = tail?.next</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤´æ’æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">appendToHead</span><span class="params">(<span class="number">_</span> val: Int)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> head == <span class="literal">nil</span> &#123;</span><br><span class="line">            head = <span class="type">ListNode</span>(val)</span><br><span class="line">            tail = head</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> temp = <span class="type">ListNode</span>(val)</span><br><span class="line">            temp.next = head</span><br><span class="line">            head = temp</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="äºŒå‰æ ‘æ˜¯ä»€ä¹ˆ"><a href="#äºŒå‰æ ‘æ˜¯ä»€ä¹ˆ" class="headerlink" title="äºŒå‰æ ‘æ˜¯ä»€ä¹ˆ"></a>äºŒå‰æ ‘æ˜¯ä»€ä¹ˆ</h2><p>äºŒå‰æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ol>
<li>æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼ˆå·¦/å³å­èŠ‚ç‚¹ï¼‰</li>
<li>å·¦å­æ ‘å’Œå³å­æ ‘çš„æ¬¡åºä¸èƒ½é¢ å€’ï¼ˆå³ä½¿æŸä¸ªèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­æ ‘ï¼Œä¹Ÿè¦åŒºåˆ†å·¦å³å­æ ‘ï¼‰<br><img src="https://i.loli.net/2019/02/19/5c6baafd00df7.gif" alt="timg.gif"></li>
</ol>
<h5 id="ç”¨swiftå®ç°èŠ‚ç‚¹"><a href="#ç”¨swiftå®ç°èŠ‚ç‚¹" class="headerlink" title="ç”¨swiftå®ç°èŠ‚ç‚¹"></a>ç”¨swiftå®ç°èŠ‚ç‚¹</h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// èŠ‚ç‚¹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> val: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">left</span>: <span class="type">TreeNode?</span></span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">right</span>: <span class="type">TreeNode?</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> val: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.val = val</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ ‘çš„æ·±åº¦"><a href="#æ ‘çš„æ·±åº¦" class="headerlink" title="æ ‘çš„æ·±åº¦"></a>æ ‘çš„æ·±åº¦</h3><p>ä»æ ¹å¼€å§‹ï¼Œæ ¹ä¸ºç¬¬ä¸€å±‚ï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„æœ€å¤§å±‚æ¬¡ç§°ä¸ºæ ‘çš„æ·±åº¦ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ·±åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxDepth</span><span class="params">(<span class="number">_</span> root: TreeNode?)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> root = root <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(maxDepth(root.<span class="keyword">left</span>), maxDepth(root.<span class="keyword">right</span>)) + <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="äºŒå‰æŸ¥æ‰¾æ ‘"><a href="#äºŒå‰æŸ¥æ‰¾æ ‘" class="headerlink" title="äºŒå‰æŸ¥æ‰¾æ ‘"></a>äºŒå‰æŸ¥æ‰¾æ ‘</h3><p>äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œå®ƒçš„å·¦å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å°äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå³å­æ ‘ä¸­èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ¤æ–­ä¸€é¢—äºŒå‰æ ‘æ˜¯å¦ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isBinarySearchTree</span><span class="params">(root: TreeNode?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> _helper(root, <span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">_helper</span><span class="params">(<span class="number">_</span> node: TreeNode?, <span class="number">_</span> <span class="built_in">min</span>: Int?, <span class="number">_</span> <span class="built_in">max</span>: Int?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="comment">// å¤„ç†èŠ‚ç‚¹ä¸º nil çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> node = node <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ‰€æœ‰å³å­èŠ‚ç‚¹éƒ½å¿…é¡»å¤§äºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> <span class="built_in">min</span> = <span class="built_in">min</span>, node.val &lt;= <span class="built_in">min</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ‰€æœ‰å·¦å­èŠ‚ç‚¹éƒ½å¿…é¡»å°äºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> <span class="built_in">max</span> = <span class="built_in">max</span>, node.val &gt;= <span class="built_in">max</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> _helper(node.<span class="keyword">left</span>, <span class="built_in">min</span>, node.val) &amp;&amp; _helper(node.<span class="keyword">right</span>, node.val, <span class="built_in">max</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>é“¾è¡¨ äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>é“¾è¡¨</title>
    <url>/2017/03/30/%E9%93%BE%E8%A1%A8/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¤§å­¦é‡Œçš„æ•°æ®ç»“æ„å¿˜è®°çš„å¹²å¹²å‡€å‡€ï¼Œé€šå¸¸æ˜¯çŸ¥é“æœ‰æŸä¸ªä¸œè¥¿ï¼Œä½†å´è¯´ä¸å‡ºä¸ªæ‰€ä»¥ç„¶ï¼ŒåšiOSå¼€å‘ä¸¤å¹´åŸºæœ¬ä¸Šæ²¡é‡åˆ°ç”¨ä¸Šé“¾è¡¨ã€äºŒå‰æ ‘ç­‰çŸ¥è¯†ç‚¹çš„åœºåˆï¼Œåªæœ‰åœ¨é¢è¯•çš„æ—¶å€™å¶å°”ä¼šè¢«é—®åˆ°ï¼Œè¿™ä¸ªæ—¶å€™ç­”ä¸ä¸Šæ¥æ„Ÿè§‰å¥½å°´å°¬-_-ï¼å½“ç„¶ï¼Œè¿™äº›æ•°æ®ç»“æ„çŸ¥è¯†è¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå†³å®šä»ä»Šå¤©å¼€å§‹ï¼Œé‡æ–°å­¦ä¹ ä¸‹è¿™äº›å½“å¹´åœ¨å¤§å­¦é‡Œæ²¡æœ‰æŒæ¡çš„çŸ¥è¯†ï¼Œç„¶åæŒ¤å‡ºæ—¶é—´æ¥åˆ·åˆ·LeetCode.</p>
<h2 id="é“¾è¡¨æ˜¯ä»€ä¹ˆ"><a href="#é“¾è¡¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="é“¾è¡¨æ˜¯ä»€ä¹ˆ"></a>é“¾è¡¨æ˜¯ä»€ä¹ˆ</h2><h4 id="1-ä¼˜ç‚¹"><a href="#1-ä¼˜ç‚¹" class="headerlink" title="1.ä¼˜ç‚¹"></a>1.ä¼˜ç‚¹</h4><pre><code>* è§£å†³äº†æ•°ç»„å…ƒç´ ä¸ªæ•°æ— æ³•æ”¹å˜çš„é™åˆ¶.
* æ•°ç»„ç§»åŠ¨å…ƒç´ çš„è¿‡ç¨‹ä¸­ï¼Œè¦å¯¹å…ƒç´ è¿›è¡Œå¤§èŒƒå›´çš„ç§»åŠ¨ï¼Œè€—æ—¶ä¸”æ•ˆç‡ä½.</code></pre><h4 id="2-åŸºæœ¬ç»“æ„"><a href="#2-åŸºæœ¬ç»“æ„" class="headerlink" title="2.åŸºæœ¬ç»“æ„"></a>2.åŸºæœ¬ç»“æ„</h4><p><img src="https://i.loli.net/2018/07/30/5b5eaabe38d91.png" alt="é“¾è¡¨.png"></p>
<p>ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼š </p>
<ul>
<li>é“¾è¡¨å°±æ˜¯å¤šä¸ªæŒ‡é’ˆè¿æ¥çš„å¤šä¸ªç»“æ„ä½“ã€‚</li>
<li>é“¾è¡¨çš„åŸºæœ¬æ„æˆï¼šå¤´æŒ‡é’ˆ(Header) + è‹¥å¹²ä¸ªèŠ‚ç‚¹(èŠ‚ç‚¹åŒ…æ‹¬äº†æ•°æ®åŸŸå’ŒæŒ‡é’ˆåŸŸ)ã€‚å¤´æŒ‡é’ˆæŒ‡å‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸­çš„æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä¾æ¬¡æŒ‡åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹è¦æŒ‡å‘NULLã€‚</li>
</ul>
<h5 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h5><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">listNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data; <span class="comment">// æ•°æ®åŸŸï¼Œç”¨äºå‚¨å­˜æ•°æ®</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">listNode</span> *<span class="title">next</span>;</span> <span class="comment">// æŒ‡é’ˆåŸŸï¼Œç”¨æ¥è®¿é—®èŠ‚ç‚¹æ•°æ®ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹"><a href="#åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹" class="headerlink" title="åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹"></a>åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹</h5><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">listNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data; <span class="comment">// æ•°æ®åŸŸï¼Œç”¨äºå‚¨å­˜æ•°æ®</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">listNode</span> *<span class="title">next</span>;</span> <span class="comment">// æŒ‡é’ˆåŸŸï¼Œç”¨æ¥è®¿é—®èŠ‚ç‚¹æ•°æ®ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">listNode</span> <span class="title">singleNode</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="function">singleNode *<span class="title">create_single_node</span><span class="params">(<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹å¹¶åˆ†é…ç©ºé—´</span></span><br><span class="line">    singleNode *node = <span class="literal">NULL</span>;</span><br><span class="line">    node = (singleNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(singleNode));</span><br><span class="line">    <span class="keyword">if</span>(node == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"malloc failure!\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ¸…ç†ä¸€ä¸‹</span></span><br><span class="line">    <span class="built_in">memset</span>(node,<span class="number">0</span>,<span class="keyword">sizeof</span>(singleNode));</span><br><span class="line">    <span class="comment">// æŒ‡å®šå€¼ï¼Œå¹¶ä¸”è®©nextæŒ‡é’ˆæŒ‡å‘NULL</span></span><br><span class="line">    node-&gt;data = data;</span><br><span class="line">    node-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    int data &#x3D; 1000;</span><br><span class="line">    singleNode *node &#x3D; create_single_node(data); &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ </span><br><span class="line">    printf(&quot;node-&gt;data &#x3D; %d\n&quot;, node-&gt;data);</span><br><span class="line">    printf(&quot;node-&gt;next &#x3D; %d\n&quot;, node-&gt;next);</span><br><span class="line">    free(node);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰§è¡Œç»“æœï¼š<br>node-&gt;data = 100<br>node-&gt;next = 0</p>
</blockquote>
]]></content>
      <tags>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³Hexoç¥çƒ¦çš„Error:Cannot-find-module</title>
    <url>/2017/05/26/%E8%A7%A3%E5%86%B3Hexo%E7%A5%9E%E7%83%A6%E7%9A%84Error-Cannot-find-module/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>è‡ªä»GitHubè¢«å¾®è½¯ç»™æ”¶è´­äº†ï¼ŒGitHubæ‰“å¼€å·¨æ…¢ï¼Œæ— å¥ˆåªå¥½çˆ¬æ¢¯å­ï¼Œè®¿é—®ä¸Šæ˜¯æ²¡å•¥é—®é¢˜äº†ï¼Œä½†æ˜¯cloneã€pushç­‰æ“ä½œæœ‰æ—¶å€™é€Ÿåº¦ä¸º 0kb/sâ€¦ ç®€ç›´ä¸èƒ½å¿â€¦ æœ€è¿‘å‘ç°<code>hexo deploy</code>è€åŠå¤©ä¹Ÿæ²¡ååº”ï¼Œæ¢¯å­ç«Ÿç„¶ä¹Ÿä¸ç®¡ç”¨ï¼Œå°è¯•äº†å¤šç§åŠæ³•ï¼Œå¦‚ï¼šåˆ é™¤<code>.deploy_git</code>ç„¶åé‡æ–°ç”Ÿæˆã€æ›´æ–°gitç‰ˆæœ¬ã€npmé‡è£…ã€hexoé‡è£…ã€ç»™http/httpsè¯·æ±‚æŒ‚ä»£ç†ç­‰ç­‰â€¦ ç«Ÿç„¶éƒ½ä¸ç®¡ç”¨! ä¸ä»…é—®é¢˜æ²¡è§£å†³ï¼Œè¿˜å¯¼è‡´hexoå‘½ä»¤å‡ºç°äº†ç¥çƒ¦çš„é”™è¯¯æç¤ºâ€¦</p>
<h3 id="é”™è¯¯é•¿è¿™æ ·"><a href="#é”™è¯¯é•¿è¿™æ ·" class="headerlink" title="é”™è¯¯é•¿è¿™æ ·"></a>é”™è¯¯é•¿è¿™æ ·</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123; [<span class="built_in">Error</span>: Cannot find <span class="built_in">module</span> <span class="string">'./build/Release/DTraceProviderBindings'</span>] code: <span class="string">'MODULE_NOT_FOUND'</span> &#125;</span><br><span class="line">&#123; [<span class="built_in">Error</span>: Cannot find <span class="built_in">module</span> <span class="string">'./build/default/DTraceProviderBindings'</span>] code: <span class="string">'MODULE_NOT_FOUND'</span> &#125;</span><br><span class="line">&#123; [<span class="built_in">Error</span>: Cannot find <span class="built_in">module</span> <span class="string">'./build/Debug/DTraceProviderBindings'</span>] code: <span class="string">'MODULE_NOT_FOUND'</span> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><p>1.hexoå®˜æ–¹ä¹Ÿç»™å‡ºäº†è§£å†³åŠæ³•:</p>
<blockquote>
<p>npm install hexo â€“no-optional</p>
</blockquote>
<p>å¥½å§ï¼Œå¯¹äºæˆ‘è¿™è¾¹ä¸ç®¡ç”¨ï¼</p>
<p>é‚£ä¹ˆæˆ‘åªèƒ½å½»åº•ä¸€ç‚¹äº†ï¼</p>
<p>2.æˆ‘çš„è§£å†³åŠæ³•ï¼š </p>
<p>å¸è½½æ‰hexoï¼Œé‡æ–°å®‰è£…</p>
<blockquote>
<p>npm uninstall hexo<br>npm install hexo â€“no-optional</p>
</blockquote>
<p>å¸è½½æ‰hexo-cliï¼Œé‡æ–°å®‰è£…</p>
<blockquote>
<p>npm uninstall hexo-cli -g<br>npm install hexo-cli -g</p>
</blockquote>
<p>å†æ¥è¯•è¯•hexoå‘½ä»¤ï¼Œæˆ‘è¿™è¾¹å·²ç»ä¸æç¤ºé”™è¯¯äº†XD</p>
]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
